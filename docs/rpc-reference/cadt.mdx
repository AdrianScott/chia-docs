---
sidebar_label: CADT
title: Climate Action Data Trust
slug: /climate-action-data-trust-rpc
---

```mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
```

## Intro

This page lists commands and examples from the Climate Action Data Trust (CADT) RPC API.

The CADT RPC API is exposed by default on port 31310. This document will give examples to access the RPC API using `http://localhost:31310/v1`.

---

## **Filestore**

Functionality: Add, delete and list files from your organization

## `GET`

### Get a list of files in the local org

This RPC will show a list of all files that have been updated to your local org.

<details>
<summary>Example</summary>

```json
curl --location --request GET 'http://localhost:31310/v1/filestore/get_file_list'
```

Response:

```json
[
  {
    "SHA256": "hQBqPraLxy5vFXC7z5Sr5a3KNdgUJmpo9rzjkFdvLVE=",
    "fileName": "Sample Name",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b"
  },
  {
    "SHA256": "ODzJ7vKrzs1hK8k0OaQDPfajHdOAo6KD0QetOy3sT8Y=",
    "fileName": "Sample Name 2",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b"
  },
  {
    "SHA256": "12zTGyztv/zPs9EhPfdPHA3++v7onigTZy8bZbCJFrk=",
    "fileName": "Sample Name 3",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b"
  }
]
```

</details>

---

## `POST`

### Add a new file to a file store

:::note
The `form` flag is required to be used twice: once with the file's location (`file`), and once with the file's name (`fileName`).
:::

<details>
<summary>Example</summary>

Only one file can be added per call:

```json
curl --location --request POST 'http://localhost:31310/v1/filestore/add_file' \
--form 'file=@"/home/user/sample.jpg"' \
--form 'fileName="Sample Name"'
```

Response:

```json
"message":"File is being added to the file store, please wait for it to confirm.","fileId":"hQBqPraLxy5vFXC7z5Sr5a3KNdgUJmpo9rzjkFdvLVE="}
```

</details>

---

### Download a file from an org

| Key    | Type   | Required | Description                                                                                                          |
| :----- | :----- | :------- | :------------------------------------------------------------------------------------------------------------------- |
| fileId | String | True     | The SHA-256 hash of the file to download, obtainable by running the [GET RPC](#get-a-list-of-files-in-the-local-org) |

:::note
The `output` flag is recommended. This flag will download the file to the specified name. If this flag is not used, the file's binary contents will be sent to the display.
:::

<details>
<summary>Example</summary>

```json
curl --location --request POST 'http://localhost:31310/v1/filestore/get_file' \
--header 'Content-Type: application/json' \
--data-raw '{
    "fileId": "12zTGyztv/zPs9EhPfdPHA3++v7onigTZy8bZbCJFrk="
}' --output newFile.jpg
```

Response: The file is downloaded.

</details>

---

## `DELETE`

Options:

| Key    | Type   | Required | Description                                                                                                        |
| :----- | :----- | :------- | :----------------------------------------------------------------------------------------------------------------- |
| fileId | String | True     | The SHA-256 hash of the file to delete, obtainable by running the [GET RPC](#get-a-list-of-files-in-the-local-org) |

### Delete a file

<details>
<summary>Example</summary>

```json
curl --location --request DELETE 'http://localhost:31310/v1/filestore/delete_file' \
--header 'Content-Type: application/json' \
--data-raw '{
    "fileId": "12zTGyztv/zPs9EhPfdPHA3++v7onigTZy8bZbCJFrk="
}'
```

Response:

```json
{ "message": "File deleted from filestore" }
```

</details>

---

## **Governance**

Functionality: View and modify data from a governance node.

:::info
The commands in this section apply to the governance node.
Anyone can create a governance node, but it won't be of much use if nobody connects to it.
Therefore, most users will not need to use the governance RPCs.
:::

## `GET`

### List all governance data

<details>
<summary>Example</summary>

```json
curl --location --request GET 'http://localhost:31310/v1/governance'
```

Response: A comprehensive list of all governance data

</details>

---

### Show whether a governance body has been created

<details>
<summary>Example</summary>

```json
curl --location --request GET 'http://localhost:31310/v1/governance/exists'
```

Response:

```json
{ "created": false }
```

</details>

---

### Show the default org list

<details>
<summary>Example</summary>

If there is no default org list, then an empty list will be returned:

```json
curl --location --request GET 'http://localhost:31310/v1/governance/meta/orgList'
```

Response:

```json
[]
```

</details>

---

### Show the picklist

<details>
<summary>Example</summary>

```json
curl --location --request GET 'http://localhost:31310/v1/governance/meta/pickList'
```

```json
Response: A comprehensive picklist
```

</details>

---

## `POST`

:::info
In order to run any of the governance POST RPCs, you must have admin access to a governance node. If you do not have such access, you will receive an error message such as the ones from the examples.
:::

### Create a governance body

<details>
<summary>Example</summary>

```json
curl --location --request POST 'http://localhost:31310/v1/governance'
```

Response:

```json
{
  "message": "Cant create Governance Body",
  "error": "You are not an governance body and can not use this functionality"
}
```

</details>

---

### Set the default governance org list

<details>
<summary>Example</summary>

```json
curl --location --request POST 'http://localhost:31310/v1/governance/meta/orgList' \
--header 'Content-Type: application/json' \
--data-raw '[]'
```

Response:

```json
{
  "message": "Cant update default orgs",
  "error": "There is no Goverance Body that you own that can be edited"
}
```

</details>

---

### Set the governance picklist values

<details>
<summary>Example</summary>

This example will set up one entry for the minimum required categories. An actual picklist will typically have far more entries:

```json
curl --location --request POST 'http://localhost:31310/v1/governance/meta/pickList' \
--header 'Content-Type: application/json' \
--data-raw '{
    "registries": [
        "American Carbon Registry (ACR)"
    ],
    "projectSector": [
        "Accommodation and food service activities"
    ],
    "projectType": [
        "Afforestation"
    ],
    "coveredByNDC": [
        "Inside NDC"
    ],
    "projectStatusValues": [
        "Listed"
    ],
    "unitMetric": [
        "tCO2e"
    ],
    "methodology": [
        "ACR - Truck Stop Electrification"
    ],
    "validationBody": [
        "4K Earth Science Private Limited"
    ],
    "countries": [
        "Afghanistan"
    ],
    "ratingType": [
        "CDP"
    ],
    "unitType": [
        "Reduction - nature"
    ],
    "unitStatus": [
        "Held"
    ],
    "correspondingAdjustmentDeclaration": [
        "Committed"
    ],
    "correspondingAdjustmentStatus": [
        "Not Started"
    ],
    "labelType": [
        "Endorsement"
    ],
    "verificationBody": [
        "Body1"
    ],
    "projectTags": [
        "Project Tag1"
    ],
    "unitTags": [
        "Unit Tag1"
    ],
    "coBenefits": [
        "coBenefit1"
    ]
}'
```

Response:

```json
{
  "message": "Cant update picklist",
  "error": "There is no Goverance Body that you own that can be edited"
}
```

</details>

---

## **Organizations**

Functionality: List, create, and update, delete and unsubscribe from organizations

## `GET`

### List all subscribed organizations

The `organizations` GET RPC will list all organizations to which you have subscribed, including local organizations.

<details>
<summary>Example</summary>

```json
curl --location --request GET 'localhost:31310/v1/organizations' --header 'Content-Type: application/json'
```

Response:

```json
{
  "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b": {
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "name": "Sample Org",
    "icon": "https://climate-warehouse.s3.us-west-2.amazonaws.com/public/orgs/me.svg",
    "isHome": true,
    "subscribed": true,
    "fileStoreSubscribed": "0",
    "xchAddress": "xch1cufyfv0jerpuzdu69t2nhf2mxhd733l4540wk6e6zttzl33wm9jsl9sfrz",
    "balance": 0.006983699969
  }
}
```

</details>

---

## `POST`

Options:

| Key  | Type   | Required | Description                                      |
| :--- | :----- | :------- | :----------------------------------------------- |
| name | String | True     | Name of the organization to be created           |
| icon | String | True     | URL of the icon to be used for this organization |

### Create a new organization

This RPC will create a new local organization.
It requires processing several transactions.
Be sure to have at least four coins in your wallet before running this RPC.

<details>
<summary>Example</summary>

Create an organization using an icon stored in the cloud:

```json
curl --location -g --request POST 'localhost:31310/v1/organizations/' --header 'Content-Type: application/json' --data-raw '{
        "name": "Sample Org",
        "icon": "https://climate-warehouse.s3.us-west-2.amazonaws.com/public/orgs/me.svg"
}'
```

The response will take a few minutes, as several transactions need to be confirmed on-chain:

```json
{
  "message": "New organization created successfully.",
  "orgId": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b"
}
```

</details>

---

## `PUT`

Options:

| Key    | Type   | Required | Description             |
| :----- | :----- | :------- | :---------------------- |
| orgUid | String | True     | Uid of the organization |

### Import an external organization

This RPC must be called before subscribing to an organization. The following keys are required for this RPC:

| Key  | Type   | Required | Description                            |
| :--- | :----- | :------- | :------------------------------------- |
| ip   | String | True     | IP address of organization's node      |
| port | String | True     | Port number of the organization's node |

<details>
<summary>Example</summary>

```json
curl --location --request PUT 'http://localhost:31310/v1/organizations/import' \
--header 'Content-Type: application/json' \
--data-raw '{
    "orgUid": "a101396917a68f79e9119eaef738162d73e23b43e952561f21bdb1a1c171df89",
    "ip": "127.0.0.1",
    "port": "8000"
}'
```

Response:

```json
{
  "message": "Importing and subscribing organization this can take a few mins."
}
```

You must wait for the transaction to be confirmed on the blockchain before subscribing to the organization.

</details>

---

### Import an internal organization

<details>
<summary>Example</summary>

```json
curl --location --request PUT 'http://localhost:31310/v1/organizations' \
--header 'Content-Type: application/json' \
--data-raw '{
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b"
}'
```

Response:

```json
{ "message": "Importing home organization." }
```

</details>

---

### Subscribe to an organization

:::note
You must have previously [imported](#import-an-external-organization) this organization in order to subscribe to it.
:::

<details>
<summary>Example</summary>

```json
curl --location --request PUT 'http://localhost:31310/v1/organizations/subscribe' \
--header 'Content-Type: application/json' \
--data-raw '{
    "orgUid": "a101396917a68f79e9119eaef738162d73e23b43e952561f21bdb1a1c171df89"
}'
```

Response:

```json
{ "message": "Subscribed to organization" }
```

</details>

---

### Resync an organization

This RPC can be used to resync the wallet of any organization (local or remote) that has fallen out of sync.

<details>
<summary>Example</summary>

```json
curl --location --request PUT 'http://localhost:31310/v1/organizations/resync' \
--header 'Content-Type: application/json' \
--data-raw '{
    "orgUid": "a101396917a68f79e9119eaef738162d73e23b43e952561f21bdb1a1c171df89"
}'
```

Response:

```json
{ "message": "Resyncing organization completed" }
```

</details>

---

### Edit your home org

<details>
<summary>Example</summary>

This update requires an on-chain transaction to be processed.

```json
curl --location --request PUT 'http://localhost:31310/v1/organizations/edit' \
     --form 'file=@"/home/user/new.svg"' \
     --form 'name="New Org Name"'
```

Response:

```json
{ "message": "Home org currently being updated, will be completed soon." }
```

</details>

---

## `DELETE`

### Delete your home organization

:::warning
This RPC will delete your home organization. There will be no confirmation prompt. Use sparingly.
:::

<details>
<summary>Example</summary>

```json
curl --location --request DELETE 'http://localhost:31310/v1/organizations'
```

Response:

```json
{ "message": "Your home organization was reset, please create a new one." }
```

</details>

---

### Unsubscribe from an imported organization

<details>
<summary>Example</summary>

```json
curl --location --request DELETE 'http://localhost:31310/v1/organizations/import' \
--header 'Content-Type: application/json' \
--data-raw '{
    "orgUid": "a101396917a68f79e9119eaef738162d73e23b43e952561f21bdb1a1c171df89"
}'
```

Response:

```json
{
  "message": "UnSubscribed to organization, you will no longer receive updates."
}
```

</details>

---

## **Projects**

Functionality: List subscribed projects, as specified by the appropriate URL option(s)

Query string options:

| Key                | Type    | Required | Description                                                                                            |
| :----------------- | :------ | :------- | :----------------------------------------------------------------------------------------------------- |
| None (default)     | N/A     | N/A      | Display all subscribed projects                                                                        |
| warehouseProjectId | String  | False    | Only display subscribed projects matching this warehouseProjectId                                      |
| orgUid             | String  | False    | Only display subscribed projects matching this orgUid                                                  |
| search             | String  | False    | Display all subscribed projects that contain the specified query (case insensitive)                    |
| columns            | String  | False    | Limit the result to the specified column. Can be used multiple times to show multiple columns          |
| limit              | Number  | False    | Limit the number of subscribed projects to be displayed (must be used with page, eg `?page=5&limit=2`) |
| page               | Number  | False    | Only display results from this page number (must be used with limit, eg `?page=5&limit=2`)             |
| xls                | Boolean | False    | If `true`, save the results to xls (Excel spreadsheet) format                                          |

## `GET`

### Show all subscribed projects

<details>
<summary>Example</summary>

In this example, no query string is used. This will list all projects:

```json
curl --location --request GET 'localhost:31310/v1/projects' --header 'Content-Type: application/json'
```

Response:

```json
[
  {
    "warehouseProjectId": "6c06c2ca-453d-4f32-b9cd-0641aa293b8e",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "currentRegistry": "Singapore National Registry",
    "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
    "originProjectId": "TEST PROJECT ID",
    "registryOfOrigin": "Singapore National Registry",
    "program": null,
    "projectName": "Sungei Buloh Wetlands Conservation",
    "projectLink": "https://www.nature.com/articles/s41467-021-21560-2",
    "projectDeveloper": "NParks National Biodiversity Centre, National Parks Board, Ridgeview Residential College",
    "sector": "Transport",
    "projectType": "Organic Waste Composting",
    "projectTags": null,
    "coveredByNDC": "Inside NDC",
    "ndcInformation": null,
    "projectStatus": "Registered",
    "projectStatusDate": "2022-08-31T00:08:00.500Z",
    "unitMetric": "tCO2e",
    "methodology": "Recovery and utilization of gas from oil fields that would otherwise be flared or vented --- Version 7.0",
    "methodology2": null,
    "validationBody": null,
    "validationDate": null,
    "timeStaged": "1661482454",
    "description": null,
    "createdAt": "2022-08-29T02:45:26.119Z",
    "updatedAt": "2022-08-29T02:45:26.119Z",
    "projectLocations": [],
    "labels": [],
    "issuances": [],
    "coBenefits": [],
    "relatedProjects": [],
    "projectRatings": [],
    "estimations": []
  },
  {
    "warehouseProjectId": "faf15f8c-0e38-45b4-9074-a264cd1dd522",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "currentRegistry": "",
    "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
    "originProjectId": "12345-123-123-12345",
    "registryOfOrigin": "UNFCCC",
    "program": "",
    "projectName": "POST sample",
    "projectLink": "http://testurl.com",
    "projectDeveloper": "POST developer",
    "sector": "Manufacturing industries",
    "projectType": "Conservation",
    "projectTags": "",
    "coveredByNDC": "Inside NDC",
    "ndcInformation": "Shuffletag",
    "projectStatus": "Registered",
    "projectStatusDate": "2022-09-12T00:00:00.000Z",
    "unitMetric": "tCO2e",
    "methodology": "Integrated Solar Combined Cycle (ISCC) projects --- Version 1.0.0",
    "methodology2": null,
    "validationBody": "",
    "validationDate": null,
    "timeStaged": null,
    "description": null,
    "createdAt": "2022-08-29T02:45:26.119Z",
    "updatedAt": "2022-08-29T02:45:26.119Z",
    "projectLocations": [],
    "labels": [],
    "issuances": [],
    "coBenefits": [],
    "relatedProjects": [],
    "projectRatings": [],
    "estimations": []
  }
]
```

</details>

---

### List projects by `warehouseProjectId`

<details>
<summary>Example</summary>

This example will list the details of a specific project, namely the one with warehouseProjectId=faf15f8c-0e38-45b4-9074-a264cd1dd522:

```json
curl --location --request GET 'localhost:31310/v1/projects?warehouseProjectId=faf15f8c-0e38-45b4-9074-a264cd1dd522' --header 'Content-Type: application/json'
```

Response:

```json
{
  "warehouseProjectId": "faf15f8c-0e38-45b4-9074-a264cd1dd522",
  "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
  "currentRegistry": "",
  "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
  "originProjectId": "12345-123-123-12345",
  "registryOfOrigin": "UNFCCC",
  "program": "",
  "projectName": "POST sample",
  "projectLink": "http://testurl.com",
  "projectDeveloper": "POST developer",
  "sector": "Manufacturing industries",
  "projectType": "Conservation",
  "projectTags": "",
  "coveredByNDC": "Inside NDC",
  "ndcInformation": "Shuffletag",
  "projectStatus": "Registered",
  "projectStatusDate": "2022-09-12T00:00:00.000Z",
  "unitMetric": "tCO2e",
  "methodology": "Integrated Solar Combined Cycle (ISCC) projects --- Version 1.0.0",
  "methodology2": null,
  "validationBody": "",
  "validationDate": null,
  "timeStaged": null,
  "description": null,
  "createdAt": "2022-08-29T02:45:26.119Z",
  "updatedAt": "2022-08-29T02:45:26.119Z",
  "projectLocations": [],
  "labels": [],
  "issuances": [],
  "coBenefits": [],
  "relatedProjects": [],
  "projectRatings": [],
  "estimations": []
}
```

</details>

---

### List projects by `orgUid`

<details>
<summary>Example</summary>

This example will list the details of all projects with a specific orgUid namely orgUid=25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b:

```json
curl --location --request GET 'localhost:31310/v1/projects?orgUid=25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b' --header 'Content-Type: application/json'
```

Response:

```json
[
  {
    "warehouseProjectId": "6c06c2ca-453d-4f32-b9cd-0641aa293b8e",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "currentRegistry": "Singapore National Registry",
    "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
    "originProjectId": "TEST PROJECT ID",
    "registryOfOrigin": "Singapore National Registry",
    "program": null,
    "projectName": "Sungei Buloh Wetlands Conservation",
    "projectLink": "https://www.nature.com/articles/s41467-021-21560-2",
    "projectDeveloper": "NParks National Biodiversity Centre, National Parks Board, Ridgeview Residential College",
    "sector": "Transport",
    "projectType": "Organic Waste Composting",
    "projectTags": null,
    "coveredByNDC": "Inside NDC",
    "ndcInformation": null,
    "projectStatus": "Registered",
    "projectStatusDate": "2022-08-31T00:08:00.500Z",
    "unitMetric": "tCO2e",
    "methodology": "Recovery and utilization of gas from oil fields that would otherwise be flared or vented --- Version 7.0",
    "methodology2": null,
    "validationBody": null,
    "validationDate": null,
    "timeStaged": "1661482454",
    "description": null,
    "createdAt": "2022-08-29T02:45:26.119Z",
    "updatedAt": "2022-08-29T02:45:26.119Z",
    "projectLocations": [],
    "labels": [],
    "issuances": [],
    "coBenefits": [],
    "relatedProjects": [],
    "projectRatings": [],
    "estimations": []
  },
  {
    "warehouseProjectId": "faf15f8c-0e38-45b4-9074-a264cd1dd522",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "currentRegistry": "",
    "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
    "originProjectId": "12345-123-123-12345",
    "registryOfOrigin": "UNFCCC",
    "program": "",
    "projectName": "POST sample",
    "projectLink": "http://testurl.com",
    "projectDeveloper": "POST developer",
    "sector": "Manufacturing industries",
    "projectType": "Conservation",
    "projectTags": "",
    "coveredByNDC": "Inside NDC",
    "ndcInformation": "Shuffletag",
    "projectStatus": "Registered",
    "projectStatusDate": "2022-09-12T00:00:00.000Z",
    "unitMetric": "tCO2e",
    "methodology": "Integrated Solar Combined Cycle (ISCC) projects --- Version 1.0.0",
    "methodology2": null,
    "validationBody": "",
    "validationDate": null,
    "timeStaged": null,
    "description": null,
    "createdAt": "2022-08-29T02:45:26.119Z",
    "updatedAt": "2022-08-29T02:45:26.119Z",
    "projectLocations": [],
    "labels": [],
    "issuances": [],
    "coBenefits": [],
    "relatedProjects": [],
    "projectRatings": [],
    "estimations": []
  }
]
```

</details>

---

### Search for projects by keyword

<details>
<summary>Example</summary>

In this example, we'll list all projects containing the keyword "Wetlands":

```json
curl --location --request GET 'localhost:31310/v1/projects?search=Wetlands' --header 'Content-Type: application/json'
```

Response:

```json
[
  {
    "warehouseProjectId": "6c06c2ca-453d-4f32-b9cd-0641aa293b8e",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "currentRegistry": "Singapore National Registry",
    "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
    "originProjectId": "TEST PROJECT ID",
    "registryOfOrigin": "Singapore National Registry",
    "program": null,
    "projectName": "Sungei Buloh Wetlands Conservation",
    "projectLink": "https://www.nature.com/articles/s41467-021-21560-2",
    "projectDeveloper": "NParks National Biodiversity Centre, National Parks Board, Ridgeview Residential College",
    "sector": "Transport",
    "projectType": "Organic Waste Composting",
    "projectTags": null,
    "coveredByNDC": "Inside NDC",
    "ndcInformation": null,
    "projectStatus": "Registered",
    "projectStatusDate": "2022-08-31T00:08:00.500Z",
    "unitMetric": "tCO2e",
    "methodology": "Recovery and utilization of gas from oil fields that would otherwise be flared or vented --- Version 7.0",
    "methodology2": null,
    "validationBody": null,
    "validationDate": null,
    "timeStaged": "1661482454",
    "description": null,
    "createdAt": "2022-08-29T02:45:26.119Z",
    "updatedAt": "2022-08-29T02:45:26.119Z",
    "projectLocations": [],
    "labels": [],
    "issuances": [],
    "coBenefits": [],
    "relatedProjects": [],
    "projectRatings": [],
    "estimations": []
  }
]
```

</details>

---

### List all projects, with paging

<details>
<summary>Example</summary>

In this example, we'll show only the second page of the output from listing all projects, with a limit of one project to be shown:

```json
curl --location --request GET 'localhost:31310/v1/projects?page=2&limit=1' --header 'Content-Type: application/json'
```

Response:

```json
{
  "page": 2,
  "pageCount": 2,
  "data": [
    {
      "warehouseProjectId": "faf15f8c-0e38-45b4-9074-a264cd1dd522",
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "currentRegistry": "",
      "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
      "originProjectId": "12345-123-123-12345",
      "registryOfOrigin": "UNFCCC",
      "program": "",
      "projectName": "POST sample",
      "projectLink": "http://testurl.com",
      "projectDeveloper": "POST developer",
      "sector": "Manufacturing industries",
      "projectType": "Conservation",
      "projectTags": "",
      "coveredByNDC": "Inside NDC",
      "ndcInformation": "Shuffletag",
      "projectStatus": "Registered",
      "projectStatusDate": "2022-09-12T00:00:00.000Z",
      "unitMetric": "tCO2e",
      "methodology": "Integrated Solar Combined Cycle (ISCC) projects --- Version 1.0.0",
      "methodology2": null,
      "validationBody": "",
      "validationDate": null,
      "timeStaged": null,
      "description": null,
      "createdAt": "2022-08-29T02:45:26.119Z",
      "updatedAt": "2022-08-29T02:45:26.119Z",
      "projectLocations": [],
      "labels": [],
      "issuances": [],
      "coBenefits": [],
      "relatedProjects": [],
      "projectRatings": [],
      "estimations": []
    }
  ]
}
```

</details>

---

### List projects by `orgUid`, with paging

<details>
<summary>Example</summary>

In this example, we'll show only the second page of the output from listing projects that belong to a specific orgUid, with a limit of one project to be shown:

```json
curl --location --request GET 'localhost:31310/v1/projects?page=2&limit=1&orgUid=25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b' --header 'Content-Type: application/json'
```

Response:

```json
{
  "page": 2,
  "pageCount": 2,
  "data": [
    {
      "warehouseProjectId": "faf15f8c-0e38-45b4-9074-a264cd1dd522",
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "currentRegistry": "",
      "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
      "originProjectId": "12345-123-123-12345",
      "registryOfOrigin": "UNFCCC",
      "program": "",
      "projectName": "POST sample",
      "projectLink": "http://testurl.com",
      "projectDeveloper": "POST developer",
      "sector": "Manufacturing industries",
      "projectType": "Conservation",
      "projectTags": "",
      "coveredByNDC": "Inside NDC",
      "ndcInformation": "Shuffletag",
      "projectStatus": "Registered",
      "projectStatusDate": "2022-09-12T00:00:00.000Z",
      "unitMetric": "tCO2e",
      "methodology": "Integrated Solar Combined Cycle (ISCC) projects --- Version 1.0.0",
      "methodology2": null,
      "validationBody": "",
      "validationDate": null,
      "timeStaged": null,
      "description": null,
      "createdAt": "2022-08-29T02:45:26.119Z",
      "updatedAt": "2022-08-29T02:45:26.119Z",
      "projectLocations": [],
      "labels": [],
      "issuances": [],
      "coBenefits": [],
      "relatedProjects": [],
      "projectRatings": [],
      "estimations": []
    }
  ]
}
```

</details>

---

### Search for projects by keyword, with paging

<details>
<summary>Example</summary>

In this example, we'll list all projects containing the keyword "Biodiversity". Only display page 1 and limit the query to 1 result:

```json
curl --location --request GET 'localhost:31310/v1/projects?page=1&limit=1&search=Biodiversity' --header 'Content-Type: application/json'
```

Response:

```json
{
  "page": 1,
  "pageCount": 1,
  "data": [
    {
      "warehouseProjectId": "6c06c2ca-453d-4f32-b9cd-0641aa293b8e",
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "currentRegistry": "Singapore National Registry",
      "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
      "originProjectId": "TEST PROJECT ID",
      "registryOfOrigin": "Singapore National Registry",
      "program": null,
      "projectName": "Sungei Buloh Wetlands Conservation",
      "projectLink": "https://www.nature.com/articles/s41467-021-21560-2",
      "projectDeveloper": "NParks National Biodiversity Centre, National Parks Board, Ridgeview Residential College",
      "sector": "Transport",
      "projectType": "Organic Waste Composting",
      "projectTags": null,
      "coveredByNDC": "Inside NDC",
      "ndcInformation": null,
      "projectStatus": "Registered",
      "projectStatusDate": "2022-08-31T00:08:00.500Z",
      "unitMetric": "tCO2e",
      "methodology": "Recovery and utilization of gas from oil fields that would otherwise be flared or vented --- Version 7.0",
      "methodology2": null,
      "validationBody": null,
      "validationDate": null,
      "timeStaged": "1661482454",
      "description": null,
      "createdAt": "2022-08-29T02:45:26.119Z",
      "updatedAt": "2022-08-29T02:45:26.119Z",
      "projectLocations": [],
      "labels": [],
      "issuances": [],
      "coBenefits": [],
      "relatedProjects": [],
      "projectRatings": [],
      "estimations": []
    }
  ]
}
```

</details>

---

### Save all project details to an xlsx file

<details>
<summary>Example</summary>

Be sure you have at least one existing committed project. This command will save the details of each project to the xlsx file you specify:

```json
curl --location --request GET 'localhost:31310/v1/projects?xls=true' --header 'Content-Type: application/json' > cw_query.xlsx
```

Response:

The results are saved to a file in the current directory called `cw_query.xlsx`.

</details>

---

### Show only requested columns

<details>
<summary>Example</summary>

For this example, we'll select only the following columns to be displayed:

- warehouseProjectId
- currentRegistry
- registryOfOrigin
- originProjectId
- program
- projectName

Missing columns will either display `null` or `""`:

```json
curl --location --request GET 'http://localhost:31310/v1/projects?page=1&limit=5&columns=warehouseProjectId&columns=currentRegistry&columns=registryOfOrigin&columns=originProjectId&columns=program&columns=projectName' --header 'Content-Type: application/json'
```

```json
{
  "page": 1,
  "pageCount": 1,
  "data": [
    {
      "warehouseProjectId": "6c06c2ca-453d-4f32-b9cd-0641aa293b8e",
      "currentRegistry": "Singapore National Registry",
      "registryOfOrigin": "Singapore National Registry",
      "originProjectId": "TEST PROJECT ID",
      "program": null,
      "projectName": "Sungei Buloh Wetlands Conservation"
    },
    {
      "warehouseProjectId": "faf15f8c-0e38-45b4-9074-a264cd1dd522",
      "currentRegistry": "",
      "registryOfOrigin": "UNFCCC",
      "originProjectId": "12345-123-123-12345",
      "program": "",
      "projectName": "POST sample"
    }
  ]
}
```

</details>

---

## `POST`

### Stage a new project

<details>
<summary>Example 1</summary>

Stage a new project using the minimum required fields:

```json
curl --location --request POST \
     -F 'projectId=c9d147e2-bc07-4e68-a76d-43424fa8cd4e' \
     -F 'originProjectId=TEST PROJECT ID' \
     -F 'currentRegistry=Singapore National Registry' \
     -F 'registryOfOrigin=Singapore National Registry' \
     -F 'projectName=Sungei Buloh Wetlands Conservation' \
     -F 'projectLink=https://www.nature.com/articles/s41467-021-21560-2' \
     -F 'projectDeveloper=NParks National Biodiversity Centre, National Parks Board, Ridgeview Residential College' \
     -F 'sector=Transport' \
     -F 'projectType=Organic Waste Composting' \
     -F 'coveredByNDC=Inside NDC' \
     -F 'projectStatus=Registered' \
     -F 'projectStatusDate=2022-08-31T00:08:00.500Z' \
     -F 'unitMetric=tCO2e' \
     -F 'methodology=Recovery and utilization of gas from oil fields that would otherwise be flared or vented --- Version 7.0' \
     'http://localhost:31310/v1/projects'
```

Response:

```json
{
  "message": "Project staged successfully",
  "uuid": "6c06c2ca-453d-4f32-b9cd-0641aa293b8e"
}
```

</details>

<details>
<summary>Example 2</summary>

Stage a new project using all fields. Create an issuance and a label as part of this process:

````json
curl --location -g --request POST 'localhost:31310/v1/projects' \
--header 'Content-Type: application/json' \
--data-raw '{
    "projectId": "abcde-12345",
    "currentRegistry": "American Carbon Registry (ACR)",
    "registryOfOrigin": "American Carbon Registry (ACR)",
    "originProjectId": "123",
    "program": "Sample Program",
    "projectName": "Stop Desertification",
    "projectLink": "http://samplelink",
    "projectDeveloper": "Dev 2",
    "description": "This is a sample description.",
    "sector": "Accommodation and food service activities",
    "projectType": "Afforestation",
    "coveredByNDC": "Inside NDC",
    "ndcInformation": "Sample NDC Information",
    "projectStatus": "Listed",
    "unitMetric": "tCO2e",
    "methodology": "ACR - Truck Stop Electrification",
    "projectTags": "Sample Tag",
    "validationBody": "4K Earth Science Private Limited",
    "projectStatusDate": "2022-08-26T00:00:00.000Z",
    "validationDate": "2022-08-26T00:00:00.000Z",
    "issuances": [
      {
        "startDate": "2022-01-02T00:00:00.000Z",
        "endDate": "2022-02-11T00:00:00.000Z",
        "verificationApproach": "Sample Approach",
        "verificationReportDate": "2022-03-16T00:00:00.000Z",
        "verificationBody": "Sample Body"
      }
    ],
    "labels": [
      {
          "label": "mclaren1",
          "labelType": "Certification",
          "creditingPeriodStartDate": "2022-02-03",
          "creditingPeriodEndDate": "2022-03-04",
          "validityPeriodStartDate": "2022-02-03",
          "validityPeriodEndDate": "2022-03-04",
          "unitQuantity": "10",
          "labelLink": "https://www.chia.net/"
      }
    ]
}'

Response:

```json
{"message":"Project staged successfully","uuid":"dbb6b23b-89c4-4c21-82de-9d78c256360e"}
````

</details>

---

### Stage a new project from a csv file

<details>
<summary>Example</summary>

- This example will stage a new project, based off of an existing project
- We'll use a file named `createProject.csv`, created from [the output of this example](#save-all-project-details-to-an-xlsx-file 'Save all project details to an xlsx file') and converted to csv format
- The contents of the csv file used in this example are as follows:

```json
warehouseProjectId,orgUid,currentRegistry,projectId,originProjectId,registryOfOrigin,program,projectName,projectLink,projectDeveloper,sector,projectType,projectTags,coveredByNDC,ndcInformation,projectStatus,projectStatusDate,unitMetric,methodology,validationBody,validationDate
faf15f8c-0e38-45b4-9074-a264cd1dd522,25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b,,c9d147e2-bc07-4e68-a76d-43424fa8cd4e,12345-123-123-12345,UNFCCC,,POST sample,http://testurl.com,POST developer,Manufacturing industries,Conservation,,Inside NDC,Shuffletag,Registered,2022-09-12T00:00:00.000Z,tCO2e,Integrated Solar Combined Cycle (ISCC) projects --- Version 1.0.0,,
```

Request:

```json
curl --location --request POST 'http://localhost:31310/v1/projects/batch' --form 'csv=@"./createProject.csv"'
```

Response:

```json
{
  "message": "CSV processing complete, your records have been added to the staging table."
}
```

</details>

---

## `PUT`

When using `PUT` to update projects, the following columns are required to be included:

| Column        |                   |                  |
| :------------ | :---------------- | :--------------- |
| projectId     | originProjectId   | registryOfOrigin |
| projectName   | projectLink       | projectDeveloper |
| sector        | projectType       | coveredByNDC     |
| projectStatus | projectStatusDate | unitMetric       |
| methodology   |

### Update an existing project

<details>
<summary>Example</summary>

For this example, we'll update the minimum set of values.

First, query the current values:

```json
curl --location --request GET 'http://localhost:31310/v1/projects?page=1&limit=5&columns=warehouseProjectId&columns=projectId&columns=originProjectId&columns=registryOfOrigin&columns=projectName&columns=projectLink&columns=projectDeveloper&columns=sector&columns=projectType&columns=coveredByNDC&columns=projectStatus&columns=projectStatusDate&columns=unitMetric&columns=methodology' --header 'Content-Type: application/json'
```

Response:

```json
{
  "page": 1,
  "pageCount": 1,
  "data": [
    {
      "warehouseProjectId": "faf15f8c-0e38-45b4-9074-a264cd1dd522",
      "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
      "originProjectId": "12345-123-123-12345",
      "registryOfOrigin": "UNFCCC",
      "projectName": "POST sample",
      "projectLink": "http://testurl.com",
      "projectDeveloper": "POST developer",
      "sector": "Manufacturing industries",
      "projectType": "Conservation",
      "coveredByNDC": "Inside NDC",
      "projectStatus": "Registered",
      "projectStatusDate": "2022-09-12T00:00:00.000Z",
      "unitMetric": "tCO2e",
      "methodology": "Integrated Solar Combined Cycle (ISCC) projects --- Version 1.0.0"
    }
  ]
}
```

Next, update the values. Note that `warehouseProjectId` is required and may not be changed:

```json
curl --location -g --request PUT 'http://localhost:31310/v1/projects' \
--header 'Content-Type: application/json' \
--data-raw '{
    "warehouseProjectId":"faf15f8c-0e38-45b4-9074-a264cd1dd522",
    "projectId":"New projectID",
    "originProjectId":"New originProjectId",
    "registryOfOrigin":"New registryOfOrigin",
    "projectName":"new name",
    "projectLink":"http://newurl.com",
    "projectDeveloper":"New developer",
    "sector":"New sector",
    "projectType":"Avoided Conversion",
    "coveredByNDC":"Outside NDC",
    "projectStatus":"Completed",
    "projectStatusDate":"2022-08-12T00:00:00.000Z",
    "unitMetric":"tCO2e",
    "methodology":"New methodology"
}'
```

Response:

```json
{ "message": "Project update added to staging" }
```

The next step is to commit the changes:

```json
curl --location --request POST \
     --header 'Content-Type: application/json' \
     'localhost:31310/v1/staging/commit'
```

Response:

```json
{ "message": "Staging Table committed to full node" }
```

After the blockchain has been updated, you can rerun the original command to verify that the values have been updated properly:

```json
curl --location --request GET 'http://localhost:31310/v1/projects?page=1&limit=5&columns=warehouseProjectId&columns=projectId&columns=originProjectId&columns=registryOfOrigin&columns=projectName&columns=projectLink&columns=projectDeveloper&columns=sector&columns=projectType&columns=coveredByNDC&columns=projectStatus&columns=projectStatusDate&columns=unitMetric&columns=methodology' --header 'Content-Type: application/json'
```

Response:

```json
{
  "page": 1,
  "pageCount": 1,
  "data": [
    {
      "warehouseProjectId": "faf15f8c-0e38-45b4-9074-a264cd1dd522",
      "projectId": "New projectID",
      "originProjectId": "New originProjectId",
      "registryOfOrigin": "New registryOfOrigin",
      "projectName": "new name",
      "projectLink": "http://newurl.com",
      "projectDeveloper": "New developer",
      "sector": "New sector",
      "projectType": "Avoided Conversion",
      "coveredByNDC": "Outside NDC",
      "projectStatus": "Completed",
      "projectStatusDate": "2022-08-12T00:00:00.000Z",
      "unitMetric": "tCO2e",
      "methodology": "New methodology"
    }
  ]
}
```

</details>

---

### Update an existing project from an xlsx file

<details>
<summary>Example</summary>

For this example, we'll use a file named `cw_query.xlsx`, created from [the output of this example](#save-all-project-details-to-an-xlsx-file 'Save all project details to an xlsx file') and modified with updates:

```json
curl --location -g --request PUT 'http://localhost:31310/v1/projects/xlsx' --form 'xlsx=@"./cw_query.xlsx"'
```

Response:

```json
{ "message": "Updates from xlsx added to staging" }
```

</details>

---

## `DELETE`

### Delete a project

<details>
<summary>Example</summary>

Delete a project using its warehouseProjectId:

```json
curl --location -g --request DELETE 'http://localhost:31310/v1/projects' \
--header 'Content-Type: application/json' \
--data-raw '{
    "warehouseProjectId": "6c06c2ca-453d-4f32-b9cd-0641aa293b8e"
  }'
```

Response:

```json
{ "message": "Project deleted successfully" }
```

This will stage the deletion of the project. To complete the deletion, you need to commit it:

```json
curl --location --request POST \
     --header 'Content-Type: application/json' \
     'localhost:31310/v1/staging/commit'
```

Response:

```json
{ "message": "Staging Table committed to full node" }
```

After the deletion is confirmed on the blockchain, the project will have been deleted.

To confirm this, attempt to list the project:

```json
curl --location --request GET 'localhost:31310/v1/projects?warehouseProjectId=6c06c2ca-453d-4f32-b9cd-0641aa293b8e' --header 'Content-Type: application/json'
```

Response:

```json
null
```

</details>

---

## **Units**

Functionality: List subscribed units, as specified by the appropriate URL option(s)

Query string options:

|      Key       |  Type   | Description                                                                                         |
| :------------: | :-----: | :-------------------------------------------------------------------------------------------------- |
| None (default) |   N/A   | Display all subscribed units                                                                        |
|     orgUid     | String  | Only display subscribed units matching this orgUid                                                  |
|     search     | String  | Display all subscribed units that contain the specified query (case insensitive)                    |
|    columns     | String  | Limit the result to the specified column. Can be used multiple times to show multiple columns       |
|     limit      | Number  | Limit the number of subscribed units to be displayed (must be used with page, eg `?page=5&limit=2`) |
|      page      | Number  | Only display results from this page number (must be used with limit, eg `?page=5&limit=2`)          |
|      xls       | Boolean | If `true`, save the results to xls (Excel spreadsheet) format                                       |

## `GET`

### List all subscribed units

<details>
<summary>Example</summary>

This RPC will also list the project with which the unit is associated:

```json
curl --location -g --request GET 'localhost:31310/v1/units' --header 'Content-Type: application/json'
```

Response:

```json
[
  {
    "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
    "issuanceId": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
    "projectLocationId": "USA-M",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "unitOwner": "Chia",
    "countryJurisdictionOfOwner": "Venezuela",
    "inCountryJurisdictionOfOwner": null,
    "serialNumberBlock": "1000-2000",
    "unitBlockStart": "1000",
    "unitBlockEnd": "2000",
    "unitCount": 1000,
    "vintageYear": 2015,
    "unitType": "Removal - nature",
    "marketplace": null,
    "marketplaceLink": null,
    "marketplaceIdentifier": null,
    "unitTags": null,
    "unitStatus": "Held",
    "unitStatusReason": null,
    "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
    "correspondingAdjustmentDeclaration": "Committed",
    "correspondingAdjustmentStatus": "Not Started",
    "timeStaged": "1661759842",
    "createdAt": "2022-08-29T08:13:26.796Z",
    "updatedAt": "2022-08-29T08:13:26.796Z",
    "labels": [
      {
        "id": "79657954-c861-454b-82ec-070c304ccf9f",
        "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
        "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
        "label": "mclaren1",
        "labelType": "Certification",
        "creditingPeriodStartDate": "2022-02-03T00:00:00.000Z",
        "creditingPeriodEndDate": "2022-03-04T00:00:00.000Z",
        "validityPeriodStartDate": "2022-02-03T00:00:00.000Z",
        "validityPeriodEndDate": "2022-03-04T00:00:00.000Z",
        "unitQuantity": 10,
        "labelLink": "https://www.chia.net/",
        "timeStaged": null,
        "createdAt": "2022-08-29T07:31:26.749Z",
        "updatedAt": "2022-08-29T07:31:26.749Z",
        "label_unit": {
          "id": "0c566d83-77f8-4714-a587-e6f3a08824f4",
          "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
          "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
          "labelId": "79657954-c861-454b-82ec-070c304ccf9f",
          "timeStaged": null,
          "createdAt": "2022-08-29T08:13:26.795Z",
          "updatedAt": "2022-08-29T08:13:26.795Z"
        }
      },
      {
        "id": "06981c2c-579a-47ca-94dc-e7d64832336d",
        "warehouseProjectId": null,
        "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
        "label": "Sample Label",
        "labelType": "Certification",
        "creditingPeriodStartDate": "2014-03-29T00:00:00.000Z",
        "creditingPeriodEndDate": "2022-03-30T00:00:00.000Z",
        "validityPeriodStartDate": "2017-03-08T00:00:00.000Z",
        "validityPeriodEndDate": "2025-03-19T00:00:00.000Z",
        "unitQuantity": 40,
        "labelLink": "http://samplelabel.net",
        "timeStaged": null,
        "createdAt": "2022-08-29T08:13:26.795Z",
        "updatedAt": "2022-08-29T08:13:26.795Z",
        "label_unit": {
          "id": "f796dbc0-786a-4e3b-bdb1-6bf1d6c229f2",
          "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
          "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
          "labelId": "06981c2c-579a-47ca-94dc-e7d64832336d",
          "timeStaged": null,
          "createdAt": "2022-08-29T08:13:26.793Z",
          "updatedAt": "2022-08-29T08:13:26.793Z"
        }
      }
    ],
    "issuance": {
      "id": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
      "startDate": "2022-01-02T00:00:00.000Z",
      "endDate": "2022-02-11T00:00:00.000Z",
      "verificationApproach": "Sample Approach",
      "verificationReportDate": "2022-03-16T00:00:00.000Z",
      "verificationBody": "Sample Body",
      "timeStaged": null,
      "createdAt": "2022-08-29T08:13:26.795Z",
      "updatedAt": "2022-08-29T08:13:26.796Z"
    }
  },
  {
    "warehouseUnitId": "ffeee705-70af-44ad-8b8e-68a38f238993",
    "issuanceId": null,
    "projectLocationId": "ID_USA",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "unitOwner": "Chia",
    "countryJurisdictionOfOwner": "Andorra",
    "inCountryJurisdictionOfOwner": null,
    "serialNumberBlock": "ABC100-ABC200",
    "unitBlockStart": "ABC100",
    "unitBlockEnd": "ABC200",
    "unitCount": 100,
    "vintageYear": 1998,
    "unitType": "Removal - technical",
    "marketplace": null,
    "marketplaceLink": null,
    "marketplaceIdentifier": null,
    "unitTags": null,
    "unitStatus": "Held",
    "unitStatusReason": null,
    "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
    "correspondingAdjustmentDeclaration": "Committed",
    "correspondingAdjustmentStatus": "Not Started",
    "timeStaged": "1661758106",
    "createdAt": "2022-08-29T08:13:26.795Z",
    "updatedAt": "2022-08-29T08:13:26.795Z",
    "labels": [],
    "issuance": null
  }
]
```

</details>

---

### Search for units by keyword

<details>
<summary>Example</summary>

In this example, we'll list all units that contain the keyword "Andorra"

```json
curl --location -g --request GET 'localhost:31310/v1/units?search=Andorra'
```

Response:

```json
[
  {
    "warehouseUnitId": "ffeee705-70af-44ad-8b8e-68a38f238993",
    "issuanceId": null,
    "projectLocationId": "ID_USA",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "unitOwner": "Chia",
    "countryJurisdictionOfOwner": "Andorra",
    "inCountryJurisdictionOfOwner": null,
    "serialNumberBlock": "ABC100-ABC200",
    "unitBlockStart": "ABC100",
    "unitBlockEnd": "ABC200",
    "unitCount": 100,
    "vintageYear": 1998,
    "unitType": "Removal - technical",
    "marketplace": null,
    "marketplaceLink": null,
    "marketplaceIdentifier": null,
    "unitTags": null,
    "unitStatus": "Held",
    "unitStatusReason": null,
    "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
    "correspondingAdjustmentDeclaration": "Committed",
    "correspondingAdjustmentStatus": "Not Started",
    "timeStaged": "1661758106",
    "createdAt": "2022-08-29T08:13:26.795Z",
    "updatedAt": "2022-08-29T08:13:26.795Z",
    "labels": [],
    "issuance": null
  }
]
```

</details>

---

### List units by `orgUid`

<details>
<summary>Example</summary>

This command will also show all details from projects belonging to the queried orgUid:

```json
curl --location -g --request GET \
     'localhost:31310/v1/units?orgUid=25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b' \
     --header 'Content-Type: application/json'
```

Response:

```json
[
  {
    "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
    "issuanceId": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
    "projectLocationId": "USA-M",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "unitOwner": "Chia",
    "countryJurisdictionOfOwner": "Venezuela",
    "inCountryJurisdictionOfOwner": null,
    "serialNumberBlock": "1000-2000",
    "unitBlockStart": "1000",
    "unitBlockEnd": "2000",
    "unitCount": 1000,
    "vintageYear": 2015,
    "unitType": "Removal - nature",
    "marketplace": null,
    "marketplaceLink": null,
    "marketplaceIdentifier": null,
    "unitTags": null,
    "unitStatus": "Held",
    "unitStatusReason": null,
    "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
    "correspondingAdjustmentDeclaration": "Committed",
    "correspondingAdjustmentStatus": "Not Started",
    "timeStaged": "1661759842",
    "createdAt": "2022-08-29T08:13:26.796Z",
    "updatedAt": "2022-08-29T08:13:26.796Z",
    "labels": [
      {
        "id": "79657954-c861-454b-82ec-070c304ccf9f",
        "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
        "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
        "label": "mclaren1",
        "labelType": "Certification",
        "creditingPeriodStartDate": "2022-02-03T00:00:00.000Z",
        "creditingPeriodEndDate": "2022-03-04T00:00:00.000Z",
        "validityPeriodStartDate": "2022-02-03T00:00:00.000Z",
        "validityPeriodEndDate": "2022-03-04T00:00:00.000Z",
        "unitQuantity": 10,
        "labelLink": "https://www.chia.net/",
        "timeStaged": null,
        "createdAt": "2022-08-29T07:31:26.749Z",
        "updatedAt": "2022-08-29T07:31:26.749Z",
        "label_unit": {
          "id": "0c566d83-77f8-4714-a587-e6f3a08824f4",
          "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
          "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
          "labelId": "79657954-c861-454b-82ec-070c304ccf9f",
          "timeStaged": null,
          "createdAt": "2022-08-29T08:13:26.795Z",
          "updatedAt": "2022-08-29T08:13:26.795Z"
        }
      },
      {
        "id": "06981c2c-579a-47ca-94dc-e7d64832336d",
        "warehouseProjectId": null,
        "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
        "label": "Sample Label",
        "labelType": "Certification",
        "creditingPeriodStartDate": "2014-03-29T00:00:00.000Z",
        "creditingPeriodEndDate": "2022-03-30T00:00:00.000Z",
        "validityPeriodStartDate": "2017-03-08T00:00:00.000Z",
        "validityPeriodEndDate": "2025-03-19T00:00:00.000Z",
        "unitQuantity": 40,
        "labelLink": "http://samplelabel.net",
        "timeStaged": null,
        "createdAt": "2022-08-29T08:13:26.795Z",
        "updatedAt": "2022-08-29T08:13:26.795Z",
        "label_unit": {
          "id": "f796dbc0-786a-4e3b-bdb1-6bf1d6c229f2",
          "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
          "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
          "labelId": "06981c2c-579a-47ca-94dc-e7d64832336d",
          "timeStaged": null,
          "createdAt": "2022-08-29T08:13:26.793Z",
          "updatedAt": "2022-08-29T08:13:26.793Z"
        }
      }
    ],
    "issuance": {
      "id": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
      "startDate": "2022-01-02T00:00:00.000Z",
      "endDate": "2022-02-11T00:00:00.000Z",
      "verificationApproach": "Sample Approach",
      "verificationReportDate": "2022-03-16T00:00:00.000Z",
      "verificationBody": "Sample Body",
      "timeStaged": null,
      "createdAt": "2022-08-29T08:13:26.795Z",
      "updatedAt": "2022-08-29T08:13:26.796Z"
    }
  },
  {
    "warehouseUnitId": "ffeee705-70af-44ad-8b8e-68a38f238993",
    "issuanceId": null,
    "projectLocationId": "ID_USA",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "unitOwner": "Chia",
    "countryJurisdictionOfOwner": "Andorra",
    "inCountryJurisdictionOfOwner": null,
    "serialNumberBlock": "ABC100-ABC200",
    "unitBlockStart": "ABC100",
    "unitBlockEnd": "ABC200",
    "unitCount": 100,
    "vintageYear": 1998,
    "unitType": "Removal - technical",
    "marketplace": null,
    "marketplaceLink": null,
    "marketplaceIdentifier": null,
    "unitTags": null,
    "unitStatus": "Held",
    "unitStatusReason": null,
    "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
    "correspondingAdjustmentDeclaration": "Committed",
    "correspondingAdjustmentStatus": "Not Started",
    "timeStaged": "1661758106",
    "createdAt": "2022-08-29T08:13:26.795Z",
    "updatedAt": "2022-08-29T08:13:26.795Z",
    "labels": [],
    "issuance": null
  }
]
```

</details>

---

### Show all units, with paging

<details>
<summary>Example</summary>

In this example, we'll add paging and only show page 2:

```json
curl --location -g --request GET \
     'localhost:31310/v1/units?page=2&limit=1' \
     --header 'Content-Type: application/json'
```

Response:

```json
{
  "page": 2,
  "pageCount": 2,
  "data": [
    {
      "warehouseUnitId": "ffeee705-70af-44ad-8b8e-68a38f238993",
      "issuanceId": null,
      "projectLocationId": "ID_USA",
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "unitOwner": "Chia",
      "countryJurisdictionOfOwner": "Andorra",
      "inCountryJurisdictionOfOwner": null,
      "serialNumberBlock": "ABC100-ABC200",
      "unitBlockStart": "ABC100",
      "unitBlockEnd": "ABC200",
      "unitCount": 100,
      "vintageYear": 1998,
      "unitType": "Removal - technical",
      "marketplace": null,
      "marketplaceLink": null,
      "marketplaceIdentifier": null,
      "unitTags": null,
      "unitStatus": "Held",
      "unitStatusReason": null,
      "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
      "correspondingAdjustmentDeclaration": "Committed",
      "correspondingAdjustmentStatus": "Not Started",
      "timeStaged": "1661758106",
      "createdAt": "2022-08-29T08:13:26.795Z",
      "updatedAt": "2022-08-29T08:13:26.795Z",
      "labels": [],
      "issuance": null
    }
  ]
}
```

</details>

---

### List units by `orgUid`, with paging

<details>
<summary>Example</summary>

For this example, we'll show all units belonging to an orgUid, and we'll also introduce paging:

```json
curl --location -g --request GET \
     'localhost:31310/v1/units?page=1&limit=1&orgUid=25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b' \
     --header 'Content-Type: application/json'
```

Response:

```json
{
  "page": 1,
  "pageCount": 2,
  "data": [
    {
      "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
      "issuanceId": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
      "projectLocationId": "USA-M",
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "unitOwner": "Chia",
      "countryJurisdictionOfOwner": "Venezuela",
      "inCountryJurisdictionOfOwner": null,
      "serialNumberBlock": "1000-2000",
      "unitBlockStart": "1000",
      "unitBlockEnd": "2000",
      "unitCount": 1000,
      "vintageYear": 2015,
      "unitType": "Removal - nature",
      "marketplace": null,
      "marketplaceLink": null,
      "marketplaceIdentifier": null,
      "unitTags": null,
      "unitStatus": "Held",
      "unitStatusReason": null,
      "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
      "correspondingAdjustmentDeclaration": "Committed",
      "correspondingAdjustmentStatus": "Not Started",
      "timeStaged": "1661759842",
      "createdAt": "2022-08-29T08:13:26.796Z",
      "updatedAt": "2022-08-29T08:13:26.796Z",
      "labels": [
        {
          "id": "06981c2c-579a-47ca-94dc-e7d64832336d",
          "warehouseProjectId": null,
          "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
          "label": "Sample Label",
          "labelType": "Certification",
          "creditingPeriodStartDate": "2014-03-29T00:00:00.000Z",
          "creditingPeriodEndDate": "2022-03-30T00:00:00.000Z",
          "validityPeriodStartDate": "2017-03-08T00:00:00.000Z",
          "validityPeriodEndDate": "2025-03-19T00:00:00.000Z",
          "unitQuantity": 40,
          "labelLink": "http://samplelabel.net",
          "timeStaged": null,
          "createdAt": "2022-08-29T08:13:26.795Z",
          "updatedAt": "2022-08-29T08:13:26.795Z",
          "label_unit": {
            "id": "f796dbc0-786a-4e3b-bdb1-6bf1d6c229f2",
            "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
            "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
            "labelId": "06981c2c-579a-47ca-94dc-e7d64832336d",
            "timeStaged": null,
            "createdAt": "2022-08-29T08:13:26.793Z",
            "updatedAt": "2022-08-29T08:13:26.793Z"
          }
        },
        {
          "id": "79657954-c861-454b-82ec-070c304ccf9f",
          "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
          "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
          "label": "mclaren1",
          "labelType": "Certification",
          "creditingPeriodStartDate": "2022-02-03T00:00:00.000Z",
          "creditingPeriodEndDate": "2022-03-04T00:00:00.000Z",
          "validityPeriodStartDate": "2022-02-03T00:00:00.000Z",
          "validityPeriodEndDate": "2022-03-04T00:00:00.000Z",
          "unitQuantity": 10,
          "labelLink": "https://www.chia.net/",
          "timeStaged": null,
          "createdAt": "2022-08-29T07:31:26.749Z",
          "updatedAt": "2022-08-29T07:31:26.749Z",
          "label_unit": {
            "id": "0c566d83-77f8-4714-a587-e6f3a08824f4",
            "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
            "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
            "labelId": "79657954-c861-454b-82ec-070c304ccf9f",
            "timeStaged": null,
            "createdAt": "2022-08-29T08:13:26.795Z",
            "updatedAt": "2022-08-29T08:13:26.795Z"
          }
        }
      ],
      "issuance": {
        "id": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
        "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
        "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
        "startDate": "2022-01-02T00:00:00.000Z",
        "endDate": "2022-02-11T00:00:00.000Z",
        "verificationApproach": "Sample Approach",
        "verificationReportDate": "2022-03-16T00:00:00.000Z",
        "verificationBody": "Sample Body",
        "timeStaged": null,
        "createdAt": "2022-08-29T08:13:26.795Z",
        "updatedAt": "2022-08-29T08:13:26.796Z"
      }
    }
  ]
}
```

</details>

---

### List all units and save the results to an xlsx file

<details>
<summary>Example</summary>

```json
curl --location --request GET 'localhost:31310/v1/units?xls=true' --header 'Content-Type: application/json' > cw_units.xlsx
```

Response:

The results are saved to a file in the current directory called `cw_query.xlsx`.

</details>

---

### List units using all available query string options

<details>
<summary>Example</summary>

This example combines several query options to list units:

```json
curl --location -g --request GET 'localhost:31310/v1/units?page=1&limit=10&search=Venezuela&warehouseUnitId=8240b643-cacf-4218-bb25-d1a48c791a66&columns=all&orgUid=25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b&xls=false' \
--header 'Content-Type: application/json'
```

Response:

```json
{
  "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
  "issuanceId": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
  "projectLocationId": "USA-M",
  "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
  "unitOwner": "Chia",
  "countryJurisdictionOfOwner": "Venezuela",
  "inCountryJurisdictionOfOwner": null,
  "serialNumberBlock": "1000-2000",
  "unitBlockStart": "1000",
  "unitBlockEnd": "2000",
  "unitCount": 1000,
  "vintageYear": 2015,
  "unitType": "Removal - nature",
  "marketplace": null,
  "marketplaceLink": null,
  "marketplaceIdentifier": null,
  "unitTags": null,
  "unitStatus": "Held",
  "unitStatusReason": null,
  "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
  "correspondingAdjustmentDeclaration": "Committed",
  "correspondingAdjustmentStatus": "Not Started",
  "timeStaged": "1661759842",
  "createdAt": "2022-08-29T08:13:26.796Z",
  "updatedAt": "2022-08-29T08:13:26.796Z",
  "labels": [
    {
      "id": "06981c2c-579a-47ca-94dc-e7d64832336d",
      "warehouseProjectId": null,
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "label": "Sample Label",
      "labelType": "Certification",
      "creditingPeriodStartDate": "2014-03-29T00:00:00.000Z",
      "creditingPeriodEndDate": "2022-03-30T00:00:00.000Z",
      "validityPeriodStartDate": "2017-03-08T00:00:00.000Z",
      "validityPeriodEndDate": "2025-03-19T00:00:00.000Z",
      "unitQuantity": 40,
      "labelLink": "http://samplelabel.net",
      "timeStaged": null,
      "createdAt": "2022-08-29T08:13:26.795Z",
      "updatedAt": "2022-08-29T08:13:26.795Z",
      "label_unit": {
        "id": "f796dbc0-786a-4e3b-bdb1-6bf1d6c229f2",
        "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
        "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
        "labelId": "06981c2c-579a-47ca-94dc-e7d64832336d",
        "timeStaged": null,
        "createdAt": "2022-08-29T08:13:26.793Z",
        "updatedAt": "2022-08-29T08:13:26.793Z"
      }
    },
    {
      "id": "79657954-c861-454b-82ec-070c304ccf9f",
      "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "label": "mclaren1",
      "labelType": "Certification",
      "creditingPeriodStartDate": "2022-02-03T00:00:00.000Z",
      "creditingPeriodEndDate": "2022-03-04T00:00:00.000Z",
      "validityPeriodStartDate": "2022-02-03T00:00:00.000Z",
      "validityPeriodEndDate": "2022-03-04T00:00:00.000Z",
      "unitQuantity": 10,
      "labelLink": "https://www.chia.net/",
      "timeStaged": null,
      "createdAt": "2022-08-29T07:31:26.749Z",
      "updatedAt": "2022-08-29T07:31:26.749Z",
      "label_unit": {
        "id": "0c566d83-77f8-4714-a587-e6f3a08824f4",
        "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
        "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
        "labelId": "79657954-c861-454b-82ec-070c304ccf9f",
        "timeStaged": null,
        "createdAt": "2022-08-29T08:13:26.795Z",
        "updatedAt": "2022-08-29T08:13:26.795Z"
      }
    }
  ],
  "issuance": {
    "id": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
    "startDate": "2022-01-02T00:00:00.000Z",
    "endDate": "2022-02-11T00:00:00.000Z",
    "verificationApproach": "Sample Approach",
    "verificationReportDate": "2022-03-16T00:00:00.000Z",
    "verificationBody": "Sample Body",
    "timeStaged": null,
    "createdAt": "2022-08-29T08:13:26.795Z",
    "updatedAt": "2022-08-29T08:13:26.796Z"
  }
}
```

</details>

---

### Show only specified columns from all units, with paging

<details>
<summary>Example</summary>

This example will limit the results to the columns specified in the query:

```json
curl --location -g --request GET \
    'localhost:31310/v1/units?page=1&limit=1&columns=unitOwner&columns=countryJurisdictionOfOwner&columns=serialNumberBlock&columns=unitIdentifier&columns=unitType&columns=intentedBuyerOrgUid&columns=marketplace' \
    --header 'Content-Type: application/json'
```

Response:

```json
{
  "page": 1,
  "pageCount": 2,
  "data": [
    {
      "unitOwner": "Chia",
      "countryJurisdictionOfOwner": "Venezuela",
      "serialNumberBlock": "1000-2000",
      "unitType": "Removal - nature",
      "marketplace": null
    }
  ]
}
```

</details>

---

## `POST`

### Create a new unit

<details>
<summary>Example</summary>

Create a new unit using only the required fields:

```json
curl --location -g --request POST 'localhost:31310/v1/units' \
     --header 'Content-Type: application/json' \
     --data-raw '{
       "projectLocationId": "ID_USA",
       "unitOwner": "Chia",
       "countryJurisdictionOfOwner": "Andorra",
       "unitCount": "100",
       "unitBlockEnd": "ABC200",
       "unitBlockStart": "ABC100",
       "vintageYear": 1998,
       "unitType": "Removal - technical",
       "unitStatus": "Held",
       "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
       "correspondingAdjustmentDeclaration": "Committed",
       "correspondingAdjustmentStatus": "Not Started"
}'
```

```json
{
  "message": "Unit staged successfully",
  "uuid": "9137b39c-603a-472d-aa8d-c2a0a88f8401"
}
```

</details>

---

### Create a new unit, with pre-existing issuance and labels

This unit will have two labels, one pre-existing (using the "id" and "warehouseProjectId" fields), and one new.
The issuance is pre-existing.

<details>
<summary>Example</summary>

```json
curl --location -g --request POST 'localhost:31310/v1/units' \
--header 'Content-Type: application/json' \
--data-raw '{
    "projectLocationId": "USA-M",
    "unitOwner": "Chia",
    "countryJurisdictionOfOwner":"Venezuela",
    "unitCount":1000,
    "unitBlockEnd":"2000",
    "unitBlockStart":"1000",
    "vintageYear":2015,
    "unitRegistryLink":"http://climateWarehouse.com/myRegistry",
    "unitType":"Removal - nature",
    "unitStatus":"Held",
    "correspondingAdjustmentDeclaration":"Committed",
    "correspondingAdjustmentStatus":"Not Started",
    "issuance": {
        "id":"0ebd44cf-6466-4b66-9512-f6ff56988ca2",
        "warehouseProjectId":"42d3ffec-3e48-4cd2-b948-93230969f313",
        "startDate":"2022-01-02T00:00:00.000Z",
        "endDate":"2022-02-11T00:00:00.000Z",
        "verificationApproach":"Sample Approach",
        "verificationReportDate":"2022-03-16T00:00:00.000Z",
        "verificationBody":"Sample Body",
        "timeStaged":null,
        "createdAt":"2022-08-29T07:31:26.752Z",
        "updatedAt":"2022-08-29T07:31:26.752Z"
    },
    "labels": [
        {
            "label":"Sample Label",
            "labelType":"Certification",
            "creditingPeriodStartDate":"2014-03-29T00:00:00.000Z",
            "creditingPeriodEndDate":"2022-03-30T00:00:00.000Z",
            "validityPeriodStartDate":"2017-03-08T00:00:00.000Z",
            "validityPeriodEndDate":"2025-03-19T00:00:00.000Z",
            "unitQuantity":40,
            "labelLink":"http://samplelabel.net"
        },
        {
            "id":"79657954-c861-454b-82ec-070c304ccf9f",
            "warehouseProjectId":"42d3ffec-3e48-4cd2-b948-93230969f313",
            "label":"mclaren1",
            "labelType":"Certification",
            "creditingPeriodStartDate":"2022-02-03T00:00:00.000Z",
            "creditingPeriodEndDate":"2022-03-04T00:00:00.000Z",
            "validityPeriodStartDate":"2022-02-03T00:00:00.000Z",
            "validityPeriodEndDate":"2022-03-04T00:00:00.000Z",
            "unitQuantity":10,
            "labelLink":"https://www.chia.net/",
            "timeStaged":null,
            "createdAt":"2022-08-29T07:31:26.749Z",
            "updatedAt":"2022-08-29T07:31:26.749Z"
        }
    ]
}'
```

Response:

```json
{
  "message": "Unit staged successfully",
  "uuid": "8240b643-cacf-4218-bb25-d1a48c791a66"
}
```

</details>

---

### Split units

:::note
The total unitCount must match the original number of units (unitBlockEnd - unitBlockStart).
:::

<details>
<summary>Example</summary>

This command will split the a single unit into four separate units:

```json
curl --location --request POST 'localhost:31310/v1/units/split' \
--header 'Content-Type: application/json' \
--data-raw '{
  "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
  "records": [{
    "unitBlockStart": "1000",
    "unitBlockEnd": "2000",
    "unitCount": 300
   }, {
    "unitBlockStart": "1000",
    "unitBlockEnd": "2000",
    "unitCount": 200
   }, {
    "unitBlockStart": "1000",
    "unitBlockEnd": "2000",
    "unitCount": 100
   }, {
    "unitBlockStart": "1000",
    "unitBlockEnd": "2000",
    "unitCount": 400
   }]
}'
```

Response:

```json
{ "message": "Unit split successful" }
```

The next step is to commit the changes:

```json
curl --location --request POST \
     --header 'Content-Type: application/json' \
     'localhost:31310/v1/staging/commit'
```

```json
{ "message": "Staging Table committed to full node" }
```

After the blockchain has confirmed the update, you can view the new split results:

```json
curl --location -g --request GET \
     'localhost:31310/v1/units?orgUid=25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b' \
     --header 'Content-Type: application/json'
```

Response:

```json
[
  {
    "warehouseUnitId": "4968e68c-5958-49b9-822a-5c4de29c442a",
    "issuanceId": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
    "projectLocationId": "USA-M",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "unitOwner": "Chia",
    "countryJurisdictionOfOwner": "Venezuela",
    "inCountryJurisdictionOfOwner": null,
    "serialNumberBlock": "1000-2000",
    "unitBlockStart": "1000",
    "unitBlockEnd": "2000",
    "unitCount": 100,
    "vintageYear": 2015,
    "unitType": "Removal - nature",
    "marketplace": null,
    "marketplaceLink": null,
    "marketplaceIdentifier": null,
    "unitTags": null,
    "unitStatus": "Held",
    "unitStatusReason": null,
    "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
    "correspondingAdjustmentDeclaration": "Committed",
    "correspondingAdjustmentStatus": "Not Started",
    "timeStaged": "1661759842",
    "createdAt": "2022-08-29T08:13:26.796Z",
    "updatedAt": "2022-08-29T08:13:26.796Z",
    "labels": [],
    "issuance": {
      "id": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
      "startDate": "2022-01-02T00:00:00.000Z",
      "endDate": "2022-02-11T00:00:00.000Z",
      "verificationApproach": "Sample Approach",
      "verificationReportDate": "2022-03-16T00:00:00.000Z",
      "verificationBody": "Sample Body",
      "timeStaged": null,
      "createdAt": "2022-08-29T08:13:26.795Z",
      "updatedAt": "2022-08-29T08:13:26.796Z"
    }
  },
  {
    "warehouseUnitId": "542ebb4a-8c5d-4bea-ba97-a95a52a67bc6",
    "issuanceId": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
    "projectLocationId": "USA-M",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "unitOwner": "Chia",
    "countryJurisdictionOfOwner": "Venezuela",
    "inCountryJurisdictionOfOwner": null,
    "serialNumberBlock": "1000-2000",
    "unitBlockStart": "1000",
    "unitBlockEnd": "2000",
    "unitCount": 200,
    "vintageYear": 2015,
    "unitType": "Removal - nature",
    "marketplace": null,
    "marketplaceLink": null,
    "marketplaceIdentifier": null,
    "unitTags": null,
    "unitStatus": "Held",
    "unitStatusReason": null,
    "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
    "correspondingAdjustmentDeclaration": "Committed",
    "correspondingAdjustmentStatus": "Not Started",
    "timeStaged": "1661759842",
    "createdAt": "2022-08-29T08:13:26.796Z",
    "updatedAt": "2022-08-29T08:13:26.796Z",
    "labels": [],
    "issuance": {
      "id": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
      "startDate": "2022-01-02T00:00:00.000Z",
      "endDate": "2022-02-11T00:00:00.000Z",
      "verificationApproach": "Sample Approach",
      "verificationReportDate": "2022-03-16T00:00:00.000Z",
      "verificationBody": "Sample Body",
      "timeStaged": null,
      "createdAt": "2022-08-29T08:13:26.795Z",
      "updatedAt": "2022-08-29T08:13:26.796Z"
    }
  },
  {
    "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
    "issuanceId": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
    "projectLocationId": "USA-M",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "unitOwner": "Chia",
    "countryJurisdictionOfOwner": "Venezuela",
    "inCountryJurisdictionOfOwner": null,
    "serialNumberBlock": "1000-2000",
    "unitBlockStart": "1000",
    "unitBlockEnd": "2000",
    "unitCount": 300,
    "vintageYear": 2015,
    "unitType": "Removal - nature",
    "marketplace": null,
    "marketplaceLink": null,
    "marketplaceIdentifier": null,
    "unitTags": null,
    "unitStatus": "Held",
    "unitStatusReason": null,
    "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
    "correspondingAdjustmentDeclaration": "Committed",
    "correspondingAdjustmentStatus": "Not Started",
    "timeStaged": "1661759842",
    "createdAt": "2022-08-29T08:13:26.796Z",
    "updatedAt": "2022-08-29T08:13:26.796Z",
    "labels": [
      {
        "id": "79657954-c861-454b-82ec-070c304ccf9f",
        "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
        "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
        "label": "mclaren1",
        "labelType": "Certification",
        "creditingPeriodStartDate": "2022-02-03T00:00:00.000Z",
        "creditingPeriodEndDate": "2022-03-04T00:00:00.000Z",
        "validityPeriodStartDate": "2022-02-03T00:00:00.000Z",
        "validityPeriodEndDate": "2022-03-04T00:00:00.000Z",
        "unitQuantity": 10,
        "labelLink": "https://www.chia.net/",
        "timeStaged": null,
        "createdAt": "2022-08-29T07:31:26.749Z",
        "updatedAt": "2022-08-29T07:31:26.749Z",
        "label_unit": {
          "id": "0c566d83-77f8-4714-a587-e6f3a08824f4",
          "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
          "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
          "labelId": "79657954-c861-454b-82ec-070c304ccf9f",
          "timeStaged": null,
          "createdAt": "2022-08-29T08:13:26.795Z",
          "updatedAt": "2022-08-29T08:13:26.795Z"
        }
      },
      {
        "id": "06981c2c-579a-47ca-94dc-e7d64832336d",
        "warehouseProjectId": null,
        "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
        "label": "Sample Label",
        "labelType": "Certification",
        "creditingPeriodStartDate": "2014-03-29T00:00:00.000Z",
        "creditingPeriodEndDate": "2022-03-30T00:00:00.000Z",
        "validityPeriodStartDate": "2017-03-08T00:00:00.000Z",
        "validityPeriodEndDate": "2025-03-19T00:00:00.000Z",
        "unitQuantity": 40,
        "labelLink": "http://samplelabel.net",
        "timeStaged": null,
        "createdAt": "2022-08-29T08:13:26.795Z",
        "updatedAt": "2022-08-29T08:13:26.795Z",
        "label_unit": {
          "id": "f796dbc0-786a-4e3b-bdb1-6bf1d6c229f2",
          "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
          "warehouseUnitId": "8240b643-cacf-4218-bb25-d1a48c791a66",
          "labelId": "06981c2c-579a-47ca-94dc-e7d64832336d",
          "timeStaged": null,
          "createdAt": "2022-08-29T08:13:26.793Z",
          "updatedAt": "2022-08-29T08:13:26.793Z"
        }
      }
    ],
    "issuance": {
      "id": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
      "startDate": "2022-01-02T00:00:00.000Z",
      "endDate": "2022-02-11T00:00:00.000Z",
      "verificationApproach": "Sample Approach",
      "verificationReportDate": "2022-03-16T00:00:00.000Z",
      "verificationBody": "Sample Body",
      "timeStaged": null,
      "createdAt": "2022-08-29T08:13:26.795Z",
      "updatedAt": "2022-08-29T08:13:26.796Z"
    }
  },
  {
    "warehouseUnitId": "23c33663-b939-4522-a53b-727535ab2e62",
    "issuanceId": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
    "projectLocationId": "USA-M",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "unitOwner": "Chia",
    "countryJurisdictionOfOwner": "Venezuela",
    "inCountryJurisdictionOfOwner": null,
    "serialNumberBlock": "1000-2000",
    "unitBlockStart": "1000",
    "unitBlockEnd": "2000",
    "unitCount": 400,
    "vintageYear": 2015,
    "unitType": "Removal - nature",
    "marketplace": null,
    "marketplaceLink": null,
    "marketplaceIdentifier": null,
    "unitTags": null,
    "unitStatus": "Held",
    "unitStatusReason": null,
    "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
    "correspondingAdjustmentDeclaration": "Committed",
    "correspondingAdjustmentStatus": "Not Started",
    "timeStaged": "1661759842",
    "createdAt": "2022-08-29T08:13:26.796Z",
    "updatedAt": "2022-08-29T08:13:26.796Z",
    "labels": [],
    "issuance": {
      "id": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
      "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
      "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
      "startDate": "2022-01-02T00:00:00.000Z",
      "endDate": "2022-02-11T00:00:00.000Z",
      "verificationApproach": "Sample Approach",
      "verificationReportDate": "2022-03-16T00:00:00.000Z",
      "verificationBody": "Sample Body",
      "timeStaged": null,
      "createdAt": "2022-08-29T08:13:26.795Z",
      "updatedAt": "2022-08-29T08:13:26.796Z"
    }
  },
  {
    "warehouseUnitId": "ffeee705-70af-44ad-8b8e-68a38f238993",
    "issuanceId": null,
    "projectLocationId": "ID_USA",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "unitOwner": "Chia",
    "countryJurisdictionOfOwner": "Andorra",
    "inCountryJurisdictionOfOwner": null,
    "serialNumberBlock": "ABC100-ABC200",
    "unitBlockStart": "ABC100",
    "unitBlockEnd": "ABC200",
    "unitCount": 100,
    "vintageYear": 1998,
    "unitType": "Removal - technical",
    "marketplace": null,
    "marketplaceLink": null,
    "marketplaceIdentifier": null,
    "unitTags": null,
    "unitStatus": "Held",
    "unitStatusReason": null,
    "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
    "correspondingAdjustmentDeclaration": "Committed",
    "correspondingAdjustmentStatus": "Not Started",
    "timeStaged": "1661758106",
    "createdAt": "2022-08-29T14:17:09.769Z",
    "updatedAt": "2022-08-29T14:17:09.769Z",
    "labels": [],
    "issuance": null
  }
]
```

</details>

---

## `PUT`

### Update an existing unit

:::note

- `warehouseUnitId` must already exist

The following inputs are required for the update:

- warehouseUnitId
- countryJurisdictionOfOwner
- unitBlockStart
- unitBlockEnd
- unitCount
- vintageYear
- unitType
- unitStatus
- unitRegistryLink
- correspondingAdjustmentDeclaration
- correspondingAdjustmentStatus
  :::

<details>
<summary>Example</summary>

```json
curl --location -g --request PUT 'localhost:31310/v1/units' \
--header 'Content-Type: application/json' \
--data-raw '{
    "warehouseUnitId": "4968e68c-5958-49b9-822a-5c4de29c442a",
    "countryJurisdictionOfOwner": "Vanuatu",
    "unitBlockStart": "1234",
    "unitBlockEnd": "9999",
    "unitCount": "5678",
    "vintageYear": "2002",
    "unitType": "Removal - technical",
    "unitStatus": "Expired",
    "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
    "correspondingAdjustmentDeclaration": "Unknown",
    "correspondingAdjustmentStatus": "Not Started"
}'
```

Response:

```json
{ "message": "Unit update added to staging" }
```

</details>

---

### Update a pre-existing unit using an xlsx file

:::note
It's possible to construct an xlsx file for this purpose using created from [the output of this example](#save-all-project-details-to-an-xlsx-file 'Save all project details to an xlsx file')
:::

<details>
<summary>Example</summary>

```json
curl --location -g --request PUT 'localhost:31310/v1/units/xlsx' \
--form 'xlsx=@"cw_units.xlsx"'
```

Response:

```json
{ "message": "Updates from xlsx added to staging" }
```

</details>

---

## `DELETE`

### Delete a unit

<details>
<summary>Example</summary>

To delete a unit, you need to pass in the `warehouseUnitId`:

```json
curl --location -g --request DELETE 'localhost:31310/v1/units' \
     --header 'Content-Type: application/json' \
     --data-raw '{
       "warehouseUnitId": "4968e68c-5958-49b9-822a-5c4de29c442a"
}'
```

Response:

```json
{ "message": "Unit deleted successfully" }
```

</details>

---

## **Issuances**

Functionality: List all issuances from subscribed projects

Options: None

## `GET`

### List all issuances from subscribed projects

<details>
<summary>Example</summary>

```json
curl --location --request GET 'localhost:31310/v1/issuances' --header 'Content-Type: application/json'
```

Response:

```json
[
  {
    "id": "0ebd44cf-6466-4b66-9512-f6ff56988ca2",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
    "startDate": "2022-01-02T00:00:00.000Z",
    "endDate": "2022-02-11T00:00:00.000Z",
    "verificationApproach": "Sample Approach",
    "verificationReportDate": "2022-03-16T00:00:00.000Z",
    "verificationBody": "Sample Body",
    "timeStaged": null,
    "createdAt": "2022-08-29T07:31:26.752Z",
    "updatedAt": "2022-08-29T07:31:26.752Z"
  }
]
```

</details>

---

## **Labels**

Functionality: List all labels from subscribed projects

Options: None

## `GET`

### List all labels from subscribed projects

<details>
<summary>Example</summary>

```json
curl --location --request GET 'localhost:31310/v1/labels' --header 'Content-Type: application/json'
```

Response:

```json
[
  {
    "id": "79657954-c861-454b-82ec-070c304ccf9f",
    "warehouseProjectId": "42d3ffec-3e48-4cd2-b948-93230969f313",
    "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "label": "mclaren1",
    "labelType": "Certification",
    "creditingPeriodStartDate": "2022-02-03T00:00:00.000Z",
    "creditingPeriodEndDate": "2022-03-04T00:00:00.000Z",
    "validityPeriodStartDate": "2022-02-03T00:00:00.000Z",
    "validityPeriodEndDate": "2022-03-04T00:00:00.000Z",
    "unitQuantity": 10,
    "labelLink": "https://www.chia.net/",
    "timeStaged": null,
    "createdAt": "2022-08-29T07:31:26.749Z",
    "updatedAt": "2022-08-29T07:31:26.749Z"
  }
]
```

</details>

---

## **Staging**

Functionality: List, modify, confirm, and cancel projects and units in the `STAGING` state

Options:

|      Key       |  Type  | Description                                                                                            |
| :------------: | :----: | :----------------------------------------------------------------------------------------------------- |
| None (default) |  N/A   | Display all projects and units that are currently in `STAGING`                                         |
|      type      | String | Must be `projects` or `units`                                                                          |
|     limit      | Number | Limit the number of subscribed projects to be displayed (must be used with page, eg `?page=5&limit=2`) |
|      page      | Number | Only display results from this page number (must be used with limit, eg `?page=5&limit=2`)             |

## `GET`

### List all projects and units in `STAGING`

<details>
<summary>Example</summary>

For this example, there are two projects and one unit in `STAGING`:

```json
curl --location --request GET 'localhost:31310/v1/staging' --header 'Content-Type: application/json'
```

Response:

```json
[
  {
    "id": 4,
    "uuid": "b5d69762-eff2-4d7f-911f-711ede2e4374",
    "table": "Projects",
    "action": "INSERT",
    "commited": false,
    "failedCommit": false,
    "createdAt": "2022-08-26T04:12:08.175Z",
    "updatedAt": "2022-08-26T04:12:08.175Z",
    "diff": {
      "original": {},
      "change": [
        {
          "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
          "originProjectId": "TEST PROJECT ID",
          "currentRegistry": "Singapore National Registry",
          "registryOfOrigin": "Singapore National Registry",
          "projectName": "Sungei Buloh Wetlands Conservation",
          "projectLink": "https://www.nature.com/articles/s41467-021-21560-2",
          "projectDeveloper": "NParks National Biodiversity Centre, National Parks Board, Ridgeview Residential College",
          "sector": "Transport",
          "projectType": "Organic Waste Composting",
          "coveredByNDC": "Inside NDC",
          "projectStatus": "Registered",
          "projectStatusDate": "2022-08-31T00:08:00.500Z",
          "unitMetric": "tCO2e",
          "methodology": "Recovery and utilization of gas from oil fields that would otherwise be flared or vented --- Version 7.0",
          "warehouseProjectId": "b5d69762-eff2-4d7f-911f-711ede2e4374",
          "timeStaged": 1661487128,
          "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b"
        }
      ]
    }
  },
  {
    "id": 8,
    "uuid": "9137b39c-603a-472d-aa8d-c2a0a88f8401",
    "table": "Units",
    "action": "INSERT",
    "commited": false,
    "failedCommit": false,
    "createdAt": "2022-08-26T06:21:20.815Z",
    "updatedAt": "2022-08-26T06:21:20.815Z",
    "diff": {
      "original": {},
      "change": [
        {
          "projectLocationId": "ID_USA",
          "unitOwner": "Chia",
          "countryJurisdictionOfOwner": "Andorra",
          "unitCount": 100,
          "unitBlockEnd": "ABC200",
          "unitBlockStart": "ABC100",
          "vintageYear": 1998,
          "unitType": "Removal - technical",
          "unitStatus": "Held",
          "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
          "correspondingAdjustmentDeclaration": "Committed",
          "correspondingAdjustmentStatus": "Not Started",
          "warehouseUnitId": "9137b39c-603a-472d-aa8d-c2a0a88f8401",
          "timeStaged": 1661494880,
          "serialNumberBlock": "ABC100-ABC200",
          "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b"
        }
      ]
    }
  },
  {
    "id": 10,
    "uuid": "dbb6b23b-89c4-4c21-82de-9d78c256360e",
    "table": "Projects",
    "action": "INSERT",
    "commited": false,
    "failedCommit": false,
    "createdAt": "2022-08-26T06:46:02.955Z",
    "updatedAt": "2022-08-26T06:46:02.955Z",
    "diff": {
      "original": {},
      "change": [
        {
          "projectId": "abcde-12345",
          "currentRegistry": "American Carbon Registry (ACR)",
          "registryOfOrigin": "American Carbon Registry (ACR)",
          "originProjectId": "123",
          "program": "Sample Program",
          "projectName": "Stop Desertification",
          "projectLink": "http://samplelink",
          "projectDeveloper": "Dev 2",
          "description": "This is a sample description.",
          "sector": "Accommodation and food service activities",
          "projectType": "Afforestation",
          "coveredByNDC": "Inside NDC",
          "ndcInformation": "Sample NDC Information",
          "projectStatus": "Listed",
          "unitMetric": "tCO2e",
          "methodology": "ACR - Truck Stop Electrification",
          "projectTags": "Sample Tag",
          "validationBody": "4K Earth Science Private Limited",
          "projectStatusDate": "2022-08-26T00:00:00.000Z",
          "validationDate": "2022-08-26T00:00:00.000Z",
          "issuances": [
            {
              "startDate": "2022-01-02T00:00:00.000Z",
              "endDate": "2022-02-11T00:00:00.000Z",
              "verificationApproach": "Sample Approach",
              "verificationReportDate": "2022-03-16T00:00:00.000Z",
              "verificationBody": "Sample Body",
              "id": "36fabf9a-c81e-43cd-af22-453e19a7b858",
              "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
              "warehouseProjectId": "dbb6b23b-89c4-4c21-82de-9d78c256360e"
            }
          ],
          "labels": [
            {
              "label": "mclaren1",
              "labelType": "Certification",
              "creditingPeriodStartDate": "2022-02-03T00:00:00.000Z",
              "creditingPeriodEndDate": "2022-03-04T00:00:00.000Z",
              "validityPeriodStartDate": "2022-02-03",
              "validityPeriodEndDate": "2022-03-04T00:00:00.000Z",
              "unitQuantity": 10,
              "labelLink": "https://www.chia.net/",
              "id": "315bc952-99a8-4b65-8456-c8fe20e12459",
              "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
              "warehouseProjectId": "dbb6b23b-89c4-4c21-82de-9d78c256360e"
            }
          ],
          "warehouseProjectId": "dbb6b23b-89c4-4c21-82de-9d78c256360e",
          "timeStaged": 1661496362,
          "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b"
        }
      ]
    }
  }
]
```

</details>

---

### List all units in `STAGING`, with paging

<details>
<summary>Example</summary>

For this example, there is one unit in `STAGING`:

```json
curl --location --request GET 'localhost:31310/v1/staging?page=1&limit=5&type=units' \
     --header 'Content-Type: application/json'
```

Response:

```json
{
  "page": 1,
  "pageCount": 1,
  "data": [
    {
      "id": 4,
      "uuid": "b5d69762-eff2-4d7f-911f-711ede2e4374",
      "table": "Projects",
      "action": "INSERT",
      "commited": false,
      "failedCommit": false,
      "createdAt": "2022-08-26T04:12:08.175Z",
      "updatedAt": "2022-08-26T04:12:08.175Z",
      "diff": {
        "original": {},
        "change": [
          {
            "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
            "originProjectId": "TEST PROJECT ID",
            "currentRegistry": "Singapore National Registry",
            "registryOfOrigin": "Singapore National Registry",
            "projectName": "Sungei Buloh Wetlands Conservation",
            "projectLink": "https://www.nature.com/articles/s41467-021-21560-2",
            "projectDeveloper": "NParks National Biodiversity Centre, National Parks Board, Ridgeview Residential College",
            "sector": "Transport",
            "projectType": "Organic Waste Composting",
            "coveredByNDC": "Inside NDC",
            "projectStatus": "Registered",
            "projectStatusDate": "2022-08-31T00:08:00.500Z",
            "unitMetric": "tCO2e",
            "methodology": "Recovery and utilization of gas from oil fields that would otherwise be flared or vented --- Version 7.0",
            "warehouseProjectId": "b5d69762-eff2-4d7f-911f-711ede2e4374",
            "timeStaged": 1661487128,
            "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b"
          }
        ]
      }
    },
    {
      "id": 8,
      "uuid": "9137b39c-603a-472d-aa8d-c2a0a88f8401",
      "table": "Units",
      "action": "INSERT",
      "commited": false,
      "failedCommit": false,
      "createdAt": "2022-08-26T06:21:20.815Z",
      "updatedAt": "2022-08-26T06:21:20.815Z",
      "diff": {
        "original": {},
        "change": [
          {
            "projectLocationId": "ID_USA",
            "unitOwner": "Chia",
            "countryJurisdictionOfOwner": "Andorra",
            "unitCount": 100,
            "unitBlockEnd": "ABC200",
            "unitBlockStart": "ABC100",
            "vintageYear": 1998,
            "unitType": "Removal - technical",
            "unitStatus": "Held",
            "unitRegistryLink": "http://climateWarehouse.com/myRegistry",
            "correspondingAdjustmentDeclaration": "Committed",
            "correspondingAdjustmentStatus": "Not Started",
            "warehouseUnitId": "9137b39c-603a-472d-aa8d-c2a0a88f8401",
            "timeStaged": 1661494880,
            "serialNumberBlock": "ABC100-ABC200",
            "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b"
          }
        ]
      }
    },
    {
      "id": 10,
      "uuid": "dbb6b23b-89c4-4c21-82de-9d78c256360e",
      "table": "Projects",
      "action": "INSERT",
      "commited": false,
      "failedCommit": false,
      "createdAt": "2022-08-26T06:46:02.955Z",
      "updatedAt": "2022-08-26T06:46:02.955Z",
      "diff": {
        "original": {},
        "change": [
          {
            "projectId": "abcde-12345",
            "currentRegistry": "American Carbon Registry (ACR)",
            "registryOfOrigin": "American Carbon Registry (ACR)",
            "originProjectId": "123",
            "program": "Sample Program",
            "projectName": "Stop Desertification",
            "projectLink": "http://samplelink",
            "projectDeveloper": "Dev 2",
            "description": "This is a sample description.",
            "sector": "Accommodation and food service activities",
            "projectType": "Afforestation",
            "coveredByNDC": "Inside NDC",
            "ndcInformation": "Sample NDC Information",
            "projectStatus": "Listed",
            "unitMetric": "tCO2e",
            "methodology": "ACR - Truck Stop Electrification",
            "projectTags": "Sample Tag",
            "validationBody": "4K Earth Science Private Limited",
            "projectStatusDate": "2022-08-26T00:00:00.000Z",
            "validationDate": "2022-08-26T00:00:00.000Z",
            "issuances": [
              {
                "startDate": "2022-01-02T00:00:00.000Z",
                "endDate": "2022-02-11T00:00:00.000Z",
                "verificationApproach": "Sample Approach",
                "verificationReportDate": "2022-03-16T00:00:00.000Z",
                "verificationBody": "Sample Body",
                "id": "36fabf9a-c81e-43cd-af22-453e19a7b858",
                "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
                "warehouseProjectId": "dbb6b23b-89c4-4c21-82de-9d78c256360e"
              }
            ],
            "labels": [
              {
                "label": "mclaren1",
                "labelType": "Certification",
                "creditingPeriodStartDate": "2022-02-03T00:00:00.000Z",
                "creditingPeriodEndDate": "2022-03-04T00:00:00.000Z",
                "validityPeriodStartDate": "2022-02-03",
                "validityPeriodEndDate": "2022-03-04T00:00:00.000Z",
                "unitQuantity": 10,
                "labelLink": "https://www.chia.net/",
                "id": "315bc952-99a8-4b65-8456-c8fe20e12459",
                "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
                "warehouseProjectId": "dbb6b23b-89c4-4c21-82de-9d78c256360e"
              }
            ],
            "warehouseProjectId": "dbb6b23b-89c4-4c21-82de-9d78c256360e",
            "timeStaged": 1661496362,
            "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b"
          }
        ]
      }
    }
  ]
}
```

</details>

---

## `POST`

### Commit projects and units

The `commit` RPC will commit all projects and units in `STAGING`.

:::info
It is not possible to commit projects or units individually.

If you need to commit a single project or unit, then stage and commit it before staging anything new.
:::

<details>
<summary>Example</summary>

```json
curl --location --request POST \
     --header 'Content-Type: application/json' \
     'localhost:31310/v1/staging/commit'
```

Response:

```json
{ "message": "Staging Table committed to full node" }
```

</details>

---

### Re-stage a staging record, using its `uuid`

<details>
<summary>Example 1</summary>

Re-stage a project:

```json
curl --location -g --request POST 'localhost:31310/v1/staging/retry' \
--header 'Content-Type: application/json' \
--data-raw '{
    "uuid": "b5d69762-eff2-4d7f-911f-711ede2e4374"
}'
```

Response:

```json
{ "message": "Staging record re-staged." }
```

</details>

<details>
<summary>Example 2</summary>

Re-stage a unit:

```json
curl --location -g --request POST 'localhost:31310/v1/staging/retry' --header 'Content-Type: application/json' --data-raw '{
    "uuid": "9137b39c-603a-472d-aa8d-c2a0a88f8401"
}'
```

Response:

```json
{ "message": "Staging record re-staged." }
```

</details>

---

## `PUT`

### Update the details of a project in `STAGING`

<details>
<summary>Example</summary>

For this example, we'll start by listing a project in `STAGING`:

```json
curl --location --request GET 'localhost:31310/v1/staging' --header 'Content-Type: application/json'
```

Response:

```json
[
  {
    "id": 19,
    "uuid": "40d57df0-ce5d-4dfc-ba37-847eb9cc856b",
    "table": "Projects",
    "action": "INSERT",
    "commited": false,
    "failedCommit": false,
    "createdAt": "2022-08-29T11:29:21.582Z",
    "updatedAt": "2022-08-29T11:29:21.582Z",
    "diff": {
      "original": {},
      "change": [
        {
          "projectId": "c9d147e2-bc07-4e68-a76d-43424fa8cd4e",
          "originProjectId": "TEST PROJECT ID",
          "currentRegistry": "Singapore National Registry",
          "registryOfOrigin": "Singapore National Registry",
          "projectName": "Sungei Buloh Wetlands Conservation",
          "projectLink": "https://www.nature.com/articles/s41467-021-21560-2",
          "projectDeveloper": "NParks National Biodiversity Centre, National Parks Board, Ridgeview Residential College",
          "sector": "Transport",
          "projectType": "Organic Waste Composting",
          "coveredByNDC": "Inside NDC",
          "projectStatus": "Registered",
          "projectStatusDate": "2022-08-31T00:08:00.500Z",
          "unitMetric": "tCO2e",
          "methodology": "Recovery and utilization of gas from oil fields that would otherwise be flared or vented --- Version 7.0",
          "warehouseProjectId": "40d57df0-ce5d-4dfc-ba37-847eb9cc856b",
          "timeStaged": 1661772561,
          "orgUid": "25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b"
        }
      ]
    }
  }
]
```

Update some of the values listed under "change":

```json
curl --location --request PUT 'localhost:31310/v1/staging' --header 'Content-Type: application/json' \
--data-raw '{
    "uuid": "40d57df0-ce5d-4dfc-ba37-847eb9cc856b",
    "data": [
        {
          "projectId":"aaaaa-11111",
          "originProjectId":"456",
          "program":"New Program Name",
          "projectName":"New Project Name",
          "projectLink":"http://newlink",
          "projectDeveloper":"New Developer",
          "description":"New description."
        }
    ]
}'
```

Response:

```json
{ "message": "Staging Record sucessfully updated." }
```

Run the original command again to show the updates:

```json
curl --location --request GET 'localhost:31310/v1/staging' --header 'Content-Type: application/json'
```

Response:

```json
[
  {
    "id": 19,
    "uuid": "40d57df0-ce5d-4dfc-ba37-847eb9cc856b",
    "table": "Projects",
    "action": "INSERT",
    "commited": false,
    "failedCommit": false,
    "createdAt": "2022-08-29T11:29:21.582Z",
    "updatedAt": "2022-08-29T11:32:48.361Z",
    "diff": {
      "original": {},
      "change": [
        {
          "projectId": "aaaaa-11111",
          "originProjectId": "456",
          "program": "New Program Name",
          "projectName": "New Project Name",
          "projectLink": "http://newlink",
          "projectDeveloper": "New Developer",
          "description": "New description."
        }
      ]
    }
  }
]
```

</details>

---

## `DELETE`

### Delete all projects and units in `STAGING`

<details>
<summary>Example</summary>

```json
curl --location -g --request DELETE 'localhost:31310/v1/staging/clean' \
     --header 'Content-Type: application/json'
```

Response:

```json
{ "message": "Staging Data Cleaned" }
```

</details>

---

### Delete a specific project in `STAGING`

<details>
<summary>Example</summary>

```json
curl --location -g --request DELETE 'localhost:31310/v1/staging' \
--header 'Content-Type: application/json' \
--data-raw '{
    "uuid": "b5d69762-eff2-4d7f-911f-711ede2e4374"
}'
```

Response:

```json
{ "message": "Deleted from stage" }
```

</details>

---

### Delete a specific unit in `STAGING`

<details>
<summary>Example</summary>

```json
curl --location -g --request DELETE 'localhost:31310/v1/staging' --header 'Content-Type: application/json' --data-raw '{
    "uuid": "9137b39c-603a-472d-aa8d-c2a0a88f8401"
}'
```

Response:

```json
{ "message": "Deleted from stage" }
```

</details>

---

## **Audit**

Functionality: Show the complete history of an organization

Options:

|  Key   |  Type  | Description                                                 |
| :----: | :----: | :---------------------------------------------------------- |
| orgUid | String | (Required) Display subscribed projects matching this orgUid |

## `GET`

### Show the complete history of an organization

<details>
<summary>Example</summary>

```json
curl --location --request GET 'localhost:31310/v1/audit?orgUid=25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b' --header 'Content-Type: application/json'
```

Response:

```json
[
  {
    "id":23,
    "orgUid":"25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "registryId":"238e904e9d7ee15f9b8e611fa2d21cbfba49f1cff87c6843ddc29dff0a345044",
    "rootHash":"0xd26d12c765230186fbf44ef1032d26c74da24740cc5e430e3ae6b8cb07125673",
    "type":"INSERT",
    "change":"{
      \"id\":\"0ebd44cf-6466-4b66-9512-f6ff56988ca2\",
      \"orgUid\":\"25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b\",
      \"warehouseProjectId\":\"42d3ffec-3e48-4cd2-b948-93230969f313\",
      \"startDate\":\"2022-01-02T00:00:00.000Z\",
      \"endDate\":\"2022-02-11T00:00:00.000Z\",
      \"verificationApproach\":\"Sample Approach\",
      \"verificationReportDate\":\"2022-03-16T00:00:00.000Z\",
      \"verificationBody\":\"Sample Body\",
      \"timeStaged\":null,
      \"createdAt\":\"2022-08-29T08:13:26.795Z\",
      \"updatedAt\":\"2022-08-29T08:13:26.796Z\",
      \"unitId\":\"0ebd44cf-6466-4b66-9512-f6ff56988ca2\"
    }",
    "table":"issuances",
    "onchainConfirmationTimeStamp":"1661782549",
    "author":"",
    "comment":"",
    "createdAt":"2022-08-29T14:16:42.299Z",
    "updatedAt":"2022-08-29T14:16:42.299Z"
  },
  {
    "id":24,
    ...
    abbreviated (output continues in order of ID)
    ...
  },
  {
    "id":2,
    "orgUid":"25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "registryId":"238e904e9d7ee15f9b8e611fa2d21cbfba49f1cff87c6843ddc29dff0a345044",
    "rootHash":"0x313157ab350fd6f37fbee1f23691f846b128004b0e4cb1a9688c94e39557984a",
    "type":"INSERT",
    "change":"{
      \"projectId\":\"c9d147e2-bc07-4e68-a76d-43424fa8cd4e\",
      \"originProjectId\":\"TEST PROJECT ID\",
      \"currentRegistry\":\"Singapore National Registry\",
      \"registryOfOrigin\":\"Singapore National Registry\",
      \"projectName\":\"Sungei Buloh Wetlands Conservation\",
      \"projectLink\":\"https://www.nature.com/articles/s41467-021-21560-2\",
      \"projectDeveloper\":\"NParks National Biodiversity Centre, National Parks Board, Ridgeview Residential College\",
      \"sector\":\"Transport\",
      \"projectType\":\"Organic Waste Composting\",
      \"coveredByNDC\":\"Inside NDC\",
      \"projectStatus\":\"Registered\",
      \"projectStatusDate\":\"2022-08-31T00:08:00.500Z\",
      \"unitMetric\":\"tCO2e\",
      \"methodology\":\"Recovery and utilization of gas from oil fields that would otherwise be flared or vented --- Version 7.0\",
      \"warehouseProjectId\":\"6c06c2ca-453d-4f32-b9cd-0641aa293b8e\",
      \"timeStaged\":1661482454,
      \"orgUid\":\"25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b\"
    }",
    "table":"project",
    "onchainConfirmationTimeStamp":"1661482859",
    "author":"",
    "comment":"",
    "createdAt":"2022-08-26T03:02:00.641Z",
    "updatedAt":"2022-08-26T03:02:00.641Z"
  },
  {
    "id":1,
    "orgUid":"25824d086ec55565aca6149d463fae9d37457adc4b5ea2f49e6752d8c668b99b",
    "registryId":"238e904e9d7ee15f9b8e611fa2d21cbfba49f1cff87c6843ddc29dff0a345044",
    "rootHash":"0x0000000000000000000000000000000000000000000000000000000000000000",
    "type":"CREATE REGISTRY",
    "change":null,
    "table":null,
    "onchainConfirmationTimeStamp":"1661473405",
    "author":null,
    "comment":null,
    "createdAt":"2022-08-26T00:26:19.626Z",
    "updatedAt":"2022-08-26T00:26:19.627Z"
  }
]
```

</details>

---

### Find all conflicts

This will show all conflicts in your audit history. If there are no conflicts, then `[]` will be shown.

<details>
<summary>Example</summary>

```json
url --location --request GET 'http://localhost:31310/v1/audit/findConflicts'
```

Response:

```json
[]
```

</details>

---
