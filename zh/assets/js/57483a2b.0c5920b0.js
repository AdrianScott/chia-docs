"use strict";(self.webpackChunkchia_docs=self.webpackChunkchia_docs||[]).push([[629],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>d});var n=a(7294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),h=u(a),d=l,m=h["".concat(s,".").concat(d)]||h[d]||c[d]||i;return a?n.createElement(m,r(r({ref:t},p),{},{components:a})):n.createElement(m,r({ref:t},p))}));function d(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=a.length,r=new Array(i);r[0]=h;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:l,r[1]=o;for(var u=2;u<i;u++)r[u]=a[u];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},1701:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var n=a(7462),l=(a(7294),a(3905));const i={title:"Chia Installation Guide",slug:"/chia-installation-guide"},r=void 0,o={unversionedId:"reference-client/chia-installation-guide",id:"reference-client/chia-installation-guide",title:"Chia Installation Guide",description:"Make sure you are downloading Chia software from the _chia.net_ domain. Do not use any other download source.",source:"@site/docs/reference-client/chia-installation-guide.mdx",sourceDirName:"reference-client",slug:"/chia-installation-guide",permalink:"/zh/chia-installation-guide",draft:!1,editUrl:"https://github.com/Chia-Network/chia-docs/blob/main/docs/reference-client/chia-installation-guide.mdx",tags:[],version:"current",frontMatter:{title:"Chia Installation Guide",slug:"/chia-installation-guide"},sidebar:"tutorialSidebar",previous:{title:"Wallet Protocol",permalink:"/zh/wallet-protocol"},next:{title:"Check if Things are Working",permalink:"/zh/check-if-things-are-working"}},s={},u=[{value:"Minimum Specs",id:"minimum-specs",level:2},{value:"Drive format support",id:"drive-format-support",level:2},{value:"Sleep kills plots",id:"sleep-kills-plots",level:2},{value:"Windows",id:"windows",level:2},{value:"macOS",id:"macos",level:2},{value:"Install from Source - MacOS",id:"install-from-source---macos",level:3},{value:"Ubuntu / Debian",id:"ubuntu",level:2},{value:"Install using the repository",id:"install-using-the-repository",level:3},{value:"Set up the repository",id:"set-up-the-repository",level:4},{value:"Install Chia Blockchain",id:"install-chia-blockchain",level:4},{value:"Install from DEB Files",id:"install-from-deb-files",level:3},{value:"Install from Source - Ubuntu",id:"install-from-source---ubuntu",level:3},{value:"CentOS/Red Hat/Fedora",id:"centos-redhat-fedora",level:2},{value:"Install using the YUM / DNF repository",id:"install-using-the-yum--dnf-repository",level:3},{value:"Set up and Install Using YUM",id:"set-up-and-install-using-yum",level:4},{value:"Set up and install using DNF",id:"set-up-and-install-using-dnf",level:4},{value:"Install from RPM Files",id:"install-from-rpm-files",level:3},{value:"Install from source - CentOS / Red Hat / Fedora",id:"install-from-source---centos--red-hat--fedora",level:3},{value:"Install from binary wheels",id:"install-from-binary-wheels",level:2},{value:"WSL2",id:"wsl2",level:2},{value:"Check if you already have WSL2 or WSL1 installed:",id:"check-if-you-already-have-wsl2-or-wsl1-installed",level:3},{value:"If WSL is not Installed:",id:"if-wsl-is-not-installed",level:3},{value:"Installing a new WSL2 instance:",id:"installing-a-new-wsl2-instance",level:3},{value:"Install from Source - WSL2",id:"install-from-source---wsl2",level:4},{value:"Increasing the WSL Maximum Storage Capacity",id:"increasing-the-wsl-maximum-storage-capacity",level:3},{value:"Setting a Maximum Limit to WSL2 Memory Access",id:"setting-a-maximum-limit-to-wsl2-memory-access",level:3},{value:"WSL VHD Plotting Nuances",id:"wsl-vhd-plotting-nuances",level:3},{value:"Amazon Linux 2",id:"amazon-linux-2",level:2},{value:"Install from source - Amazon Linux 2",id:"install-from-source---amazon-linux-2",level:4},{value:"Install from Binary Package",id:"install-from-binary-package",level:4},{value:"Other Install Methods and Environments",id:"other",level:2},{value:"Create a Virtual Environment",id:"create-a-virtual-environment",level:3},{value:"Install from Source",id:"install-from-source",level:2},{value:"Update from Source",id:"update-from-source",level:2},{value:"A Note on Virutal Environments",id:"a-note-on-virutal-environments",level:3},{value:"Troubleshooting",id:"troubleshooting",level:3},{value:"Testnets",id:"testnets",level:2}],p={toc:u};function c(e){let{components:t,...a}=e;return(0,l.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Make sure you are downloading Chia software from the ",(0,l.kt)("em",{parentName:"strong"},"chia.net")," domain. Do not use any other download source.")),(0,l.kt)("p",null,"Official installer links can be found on the ",(0,l.kt)("a",{parentName:"p",href:"https://www.chia.net/download/"},"official download page")," and this docs page."),(0,l.kt)("hr",null),(0,l.kt)("p",null,"To install the chia-blockchain, follow the instructions according to your operating system. You should read the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/Chia-Network/chia-blockchain/releases"},"release notes")," and the ",(0,l.kt)("a",{parentName:"p",href:"/faq"},"FAQ"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Jump to:"),(0,l.kt)("th",{parentName:"tr",align:"center"},(0,l.kt)("a",{parentName:"th",href:"#windows"},"Windows")),(0,l.kt)("th",{parentName:"tr",align:"center"},(0,l.kt)("a",{parentName:"th",href:"#macos"},"MacOS")),(0,l.kt)("th",{parentName:"tr",align:"center"},(0,l.kt)("a",{parentName:"th",href:"#ubuntu"},"Ubuntu")),(0,l.kt)("th",{parentName:"tr",align:"center"},(0,l.kt)("a",{parentName:"th",href:"#centos-redhat-fedora"},"CentOS / RHEL / Fedora")),(0,l.kt)("th",{parentName:"tr",align:"center"},(0,l.kt)("a",{parentName:"th",href:"#wsl2"},"WSL2")),(0,l.kt)("th",{parentName:"tr",align:"center"},(0,l.kt)("a",{parentName:"th",href:"#amazon-linux-2"},"Amazon Linux 2")),(0,l.kt)("th",{parentName:"tr",align:"center"},(0,l.kt)("a",{parentName:"th",href:"#other"},"Other platforms"))))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},(0,l.kt)("a",{parentName:"th",href:"#install-from-source"},"Install from source")),(0,l.kt)("th",{parentName:"tr",align:"center"},(0,l.kt)("a",{parentName:"th",href:"#update-from-source"},"Update from source"))))),(0,l.kt)("h2",{id:"minimum-specs"},"Minimum Specs"),(0,l.kt)("p",null,"The minimum supported specs are that of the Raspberry Pi 4, 4GB model"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Quad core 1.5Ghz CPU (must be 64 bit)"),(0,l.kt)("li",{parentName:"ul"},"4 GB Ram"),(0,l.kt)("li",{parentName:"ul"},"Starting with Chia version 1.3.5, Python 3.10 is supported. The minimum supported version is 3.7"),(0,l.kt)("li",{parentName:"ul"},"For Chia versions prior to 1.3.5, only Python 3.7, 3.8, and 3.9 are supported")),(0,l.kt)("h2",{id:"drive-format-support"},"Drive format support"),(0,l.kt)("p",null,"Chia plot files are at least 108GB in size (for K32). To plot successfully requires drives formatted to support large files; e.g. NTFS, APFS, exFAT, ext4, etc. Do not use drives with FAT formatting (FAT12, FAT16, or FAT32) or else plotting will fail. Future versions of Chia will check for unsupported drives, but for now it's up to each user to check their drive format."),(0,l.kt)("h2",{id:"sleep-kills-plots"},"Sleep kills plots"),(0,l.kt)("p",null,"The Chia plotting process may take many hours to complete. If the computer or hard drives go to sleep during the plotting process, the plotting fails and you will need to start over. Please ensure all sleep, hibernate and power saving modes for your computer and hard drives are disabled before starting the Chia plotting process."),(0,l.kt)("h2",{id:"windows"},"Windows"),(0,l.kt)("p",null,"Install the Windows installer - ",(0,l.kt)("a",{parentName:"p",href:"https://download.chia.net/latest/Setup-Win64.exe"},"Chia Blockchain Windows")),(0,l.kt)("p",null,'As the Chia code signing certificate is new you will likely have to ask to keep the download and when you run the installer, you will have to choose "More Info" and "Run Anyway" to be able to run the installer. There is no need to use the command line. Some Windows anti-virus applications are seeing the download as a false positive. You can see the entire source code and build method here so we think it\'s safe for you to ask those tools to ignore it. Running the installer while plotting on a previous version will stop your plotting process, so be careful.'),(0,l.kt)("p",null,"You can now proceed to the ",(0,l.kt)("a",{parentName:"p",href:"/quick-start-guide"},"Quick Start Guide"),"."),(0,l.kt)("h2",{id:"macos"},"macOS"),(0,l.kt)("p",null,"macOS Mojave (10.14.x) or newer is required."),(0,l.kt)("p",null,"Install the macOS .dmg installer - ",(0,l.kt)("a",{parentName:"p",href:"https://download.chia.net/latest/Setup-MacOS.dmg"},"Chia Blockchain MacOS")),(0,l.kt)("p",null,'When the installer first runs it will import or create multiple keys and add them to the macOS keychain. You may be prompted up to 3 times for your password. We suggest choosing "always allow."'),(0,l.kt)("p",null,"You can now proceed to the ",(0,l.kt)("a",{parentName:"p",href:"/quick-start-guide"},"Quick Start Guide"),"."),(0,l.kt)("h3",{id:"install-from-source---macos"},"Install from Source - MacOS"),(0,l.kt)("p",null,"To build a development version, make sure ",(0,l.kt)("a",{parentName:"p",href:"https://brew.sh/"},"brew")," is available before starting the setup and that python 3.7 or newer is installed.",(0,l.kt)("br",{parentName:"p"}),"\n","See ",(0,l.kt)("a",{parentName:"p",href:"#install-from-source"},"install from source")," for detailed instruction."),(0,l.kt)("h2",{id:"ubuntu"},"Ubuntu / Debian"),(0,l.kt)("p",null,"You can install ",(0,l.kt)("inlineCode",{parentName:"p"},"chia-blockchain")," in different ways, depending on your needs:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Set up Chia's repositories and install from them, for ease of installation and upgrade.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Download the DEB package and install it manually and manage upgrades manually.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Install from source"))),(0,l.kt)("h3",{id:"install-using-the-repository"},"Install using the repository"),(0,l.kt)("p",null,"Before you install ",(0,l.kt)("inlineCode",{parentName:"p"},"chia-blockchain")," for the first time on a new machine, you need to set up the Chia repository. Afterward, you can install and update ",(0,l.kt)("inlineCode",{parentName:"p"},"chia-blockchain")," from the repository."),(0,l.kt)("h4",{id:"set-up-the-repository"},"Set up the repository"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Update the ",(0,l.kt)("inlineCode",{parentName:"li"},"apt")," package index and install packages to allow ",(0,l.kt)("inlineCode",{parentName:"li"},"apt")," to use a repository over HTTPS:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"sudo apt-get update\n\nsudo apt-get install ca-certificates curl gnupg\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"Add Chia's official GPG Key:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"curl -sL https://repo.chia.net/FD39E6D3.pubkey.asc | sudo gpg --dearmor -o /usr/share/keyrings/chia.gpg\n")),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"Use the following command to set up the ",(0,l.kt)("strong",{parentName:"li"},"stable")," repository.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/chia.gpg] https://repo.chia.net/debian/ stable main" | sudo tee /etc/apt/sources.list.d/chia.list > /dev/null\n')),(0,l.kt)("h4",{id:"install-chia-blockchain"},"Install Chia Blockchain"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Update the ",(0,l.kt)("inlineCode",{parentName:"li"},"apt")," package index and install the latest stable version of ",(0,l.kt)("inlineCode",{parentName:"li"},"chia-blockchain"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"sudo apt-get update\n\n# FULL UI VERSION\nsudo apt-get install chia-blockchain\n\n# CLI ONLY VERSION\nsudo apt-get install chia-blockchain-cli\n")),(0,l.kt)("h3",{id:"install-from-deb-files"},"Install from DEB Files"),(0,l.kt)("p",null,"We have GUI and CLI Only installers available for Ubuntu 18.04 and newer and Debian Buster and newer. There are also arm64 versions of the debs available for Ubuntu and Debian/Respberry Pi OS 64. When using the GUI installer, binary CLI tools can be found in ",(0,l.kt)("inlineCode",{parentName:"p"},"/usr/lib/chia-blockchain/resources/app.asar.unpacked/daemon/"),"."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://download.chia.net/latest/x86_64-Ubuntu-gui"},"GUI installer (x86_64)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://download.chia.net/latest/ARM64-Ubuntu-gui"},"GUI installer (arm64)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://download.chia.net/latest/x86_64-Ubuntu-cli"},"CLI only installer (x86_64)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://download.chia.net/latest/ARM64-Ubuntu-cli"},"CLI only installer (arm64)"))),(0,l.kt)("h3",{id:"install-from-source---ubuntu"},"Install from Source - Ubuntu"),(0,l.kt)("p",null,"See ",(0,l.kt)("a",{parentName:"p",href:"#install-from-source"},"install from source")," for detailed instructions."),(0,l.kt)("h2",{id:"centos-redhat-fedora"},"CentOS/Red Hat/Fedora"),(0,l.kt)("p",null,"You can install Chia Blockchain in different ways, depending on your needs:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Set up Chia's repositories and install from them, for easy of installation and upgrade"),(0,l.kt)("li",{parentName:"ul"},"Download the rpm package and install it manually and manage upgrades manually"),(0,l.kt)("li",{parentName:"ul"},"Install from source")),(0,l.kt)("h3",{id:"install-using-the-yum--dnf-repository"},"Install using the YUM / DNF repository"),(0,l.kt)("p",null,"Before you install ",(0,l.kt)("inlineCode",{parentName:"p"},"chia-blockchain")," for the first time on a new machine, you need to set up the Chia repository. Afterward, you can install and update ",(0,l.kt)("inlineCode",{parentName:"p"},"chia-blockchain")," from the repository."),(0,l.kt)("h4",{id:"set-up-and-install-using-yum"},"Set up and Install Using YUM"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Install the ",(0,l.kt)("inlineCode",{parentName:"li"},"yum-utils")," package (which provides the yum-config-manager utility) and set up the stable repository.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"sudo yum install -y yum-utils\n\nsudo yum-config-manager \\\n    --add-repo https://repo.chia.net/rhel/chia-blockchain.repo\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"Install Chia Blockchain")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"# FULL UI VERSION\nsudo yum install chia-blockchain\n\n# CLI ONLY VERSION\nsudo yum install chia-blockchain-cli\n")),(0,l.kt)("h4",{id:"set-up-and-install-using-dnf"},"Set up and install using DNF"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Install the dnf config-manager util and set up the stable repository.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"sudo dnf install 'dnf-command(config-manager)'\n\nsudo dnf config-manager \\\n    --add-repo https://repo.chia.net/rhel/chia-blockchain.repo\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"Install Chia Blockchain using dnf")),(0,l.kt)("p",null,"Full UI Version:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"sudo dnf install chia-blockchain\n")),(0,l.kt)("p",null,"CLI Only Version:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"sudo dnf install chia-blockchain-cli\n")),(0,l.kt)("h3",{id:"install-from-rpm-files"},"Install from RPM Files"),(0,l.kt)("p",null,"We have GUI and CLI Only installers available for RHEL/CentOS 7 and newer and Fedora 28 and newer. When using the GUI installer, binary CLI tools can be found in ",(0,l.kt)("inlineCode",{parentName:"p"},"/usr/lib/chia-blockchain/resources/app.asar.unpacked/daemon/")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://download.chia.net/latest/x86_64-Redhat-gui"},"GUI installer")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://download.chia.net/latest/x86_64-Redhat-cli"},"CLI only installer"))),(0,l.kt)("p",null,"Fedora 31+ requires ",(0,l.kt)("inlineCode",{parentName:"p"},"libxcrypt-compat")," to be installed on the system."),(0,l.kt)("h3",{id:"install-from-source---centos--red-hat--fedora"},"Install from source - CentOS / Red Hat / Fedora"),(0,l.kt)("p",null,"See ",(0,l.kt)("a",{parentName:"p",href:"#install-from-source"},"install from source")," for detailed instruction."),(0,l.kt)("h2",{id:"install-from-binary-wheels"},"Install from binary wheels"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"python3.7 -m venv venv\nln -s venv/bin/activate\n. ./activate\npip install --upgrade pip\npip install --extra-index-url https://pypi.chia.net/simple/ chia-blockchain==1.3.4 miniupnpc==2.2.2\n")),(0,l.kt)("h2",{id:"wsl2"},"WSL2"),(0,l.kt)("p",null,"You can run chia-blockchain in Ubuntu 20.04 LTS via WSL2 on Windows."),(0,l.kt)("p",null,"NOTE: WSL2 plotting is currently only ",(0,l.kt)("em",{parentName:"p"},"slightly")," faster than plotting on the native windows client. WSL2 requires significant tweaking to set up correctly. If you find that daunting, it's probably easier to just use the native windows client."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"You can not run the GUI")," as WSL2 doesn't yet support graphical interfaces from WSL2."),(0,l.kt)("h3",{id:"check-if-you-already-have-wsl2-or-wsl1-installed"},"Check if you already have WSL2 or WSL1 installed:"),(0,l.kt)("p",null,"From PowerShell, type:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"wsl -l -v\n")),(0,l.kt)("p",null,"If you get a listing of help topics for wsl commands, you have WSL1, and need to upgrade. To upgrade, ",(0,l.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/windows/wsl/install-win10#update-to-wsl-2"},"follow the instructions here"),". If you get a blank result or a listing of installed Linux versions, you have WSL2 and are OK to proceed."),(0,l.kt)("h3",{id:"if-wsl-is-not-installed"},"If WSL is not Installed:"),(0,l.kt)("p",null,"From an Administrator PowerShell:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\ndism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all\n")),(0,l.kt)("p",null,"You will be prompted to reboot."),(0,l.kt)("h3",{id:"installing-a-new-wsl2-instance"},"Installing a new WSL2 instance:"),(0,l.kt)("p",null,"Install Ubuntu 20.04 LTS from the Microsoft Store and run it and complete its initial install steps. You now have a linux bash shell environment that can run linux native software on Windows."),(0,l.kt)("h4",{id:"install-from-source---wsl2"},"Install from Source - WSL2"),(0,l.kt)("p",null,"See ",(0,l.kt)("a",{parentName:"p",href:"#install-from-source"},"install from source")," for detailed instruction."),(0,l.kt)("p",null,"Running a standalone Windows wallet gui is deprecated but may return in later versions. You can run the Windows version and share keys. You can also plot in WSL2 and migrate the plots to a Windows farmed plot directory."),(0,l.kt)("h3",{id:"increasing-the-wsl-maximum-storage-capacity"},"Increasing the WSL Maximum Storage Capacity"),(0,l.kt)("p",null,"WSL2 uses a Virtual Hardware Disk (VHD) to store files, and it automatically resizes as files grow. ",(0,l.kt)("strong",{parentName:"p"},"However, the VHD has an initial maximum size of 256 GB.")," Therefore, the default WSL2 VHD is probably only capable of plotting k=30 plots. To plot anything larger, you will need to increase the maximum allowable size. ",(0,l.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/windows/wsl/compare-versions#expanding-the-size-of-your-wsl-2-virtual-hardware-disk"},"Follow the guide here.")),(0,l.kt)("h3",{id:"setting-a-maximum-limit-to-wsl2-memory-access"},"Setting a Maximum Limit to WSL2 Memory Access"),(0,l.kt)("p",null,"If you try plotting Chia in WSL2 without limiting the memory access, WSL2 will use 100% of your available machine's memory, and your computer will get bogged down and begin swapping memory to your hard drive. This will severely cripple your plotting speeds. To set the maximum memory that WSL2 is allowed to use, create a configuration file ",(0,l.kt)("a",{parentName:"p",href:"https://www.bleepingcomputer.com/news/microsoft/windows-10-wsl2-now-allows-you-to-configure-global-options/"},"as described in this guide"),"."),(0,l.kt)("h3",{id:"wsl-vhd-plotting-nuances"},"WSL VHD Plotting Nuances"),(0,l.kt)("p",null,"Plotting within WSL2 can write to either the native VHD (which is EXT4) or to any other drive, which can be NTFS or any other FS-type. Writing to the native VHD is faster than writing out to another drive."),(0,l.kt)("p",null,"Plotting uses three commands for directory control:"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"-t")," for initial temp directory. Phases 1 and 2 happen here."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"-2")," for secondary temp directory. Phase 3 (compression) happens here."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"-d")," for final destination. Phase 4 happens here."),(0,l.kt)("p",null,"Plotting works such that ",(0,l.kt)("inlineCode",{parentName:"p"},"-t")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"-2")," require the exact same amount of storage space. Therefore, if ",(0,l.kt)("inlineCode",{parentName:"p"},"-t")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"-2")," point to the same drive, that drive needs 2x the final file size + 1x the max working file size."),(0,l.kt)("p",null,"For maximum speed, ",(0,l.kt)("inlineCode",{parentName:"p"},"-t")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"-2")," should be inside the WSL2 filesystem. Something like: ",(0,l.kt)("inlineCode",{parentName:"p"},"-t ~/chia_temp -2 ~/chia_temp"),". Just beware that the WSL2 VHD will need a much larger maximum capacity."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"-d")," can point to any other drive for the final destination."),(0,l.kt)("h2",{id:"amazon-linux-2"},"Amazon Linux 2"),(0,l.kt)("h4",{id:"install-from-source---amazon-linux-2"},"Install from source - Amazon Linux 2"),(0,l.kt)("p",null,"See ",(0,l.kt)("a",{parentName:"p",href:"#install-from-source"},"install from source")," for detailed instruction."),(0,l.kt)("h4",{id:"install-from-binary-package"},"Install from Binary Package"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Install chia-blockchain as a binary package\npython3.7 -m venv venv\nln -s venv/bin/activate\n. ./activate\npip install --upgrade pip\n\npip install --extra-index-url https://pypi.chia.net/simple/ chia-blockchain==1.3.0 miniupnpc==2.1\n")),(0,l.kt)("h2",{id:"other"},"Other Install Methods and Environments"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/chia-on-raspberry-pi"},"Raspberry Pi 4")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/orgs/Chia-Network/packages/container/package/chia"},"Docker")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/freebsd-install"},"FreeBSD Install")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/openbsd-install"},"OpenBSD Install"))),(0,l.kt)("p",null,"You need Python 3.7 or newer."),(0,l.kt)("p",null,"Chia strives to provide ",(0,l.kt)("a",{parentName:"p",href:"https://pythonwheels.com/"},"binary wheels")," for modern systems. If your system does not have binary wheels, you may need to install development tools to build some Python extensions from source. If you're attempting to install from source, setting the environment variable ",(0,l.kt)("inlineCode",{parentName:"p"},"BUILD_VDF_CLIENT")," to ",(0,l.kt)("inlineCode",{parentName:"p"},"N")," will skip trying to build Timelord components that aren't very cross platform, e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"export BUILD_VDF_CLIENT=N"),"."),(0,l.kt)("h3",{id:"create-a-virtual-environment"},"Create a Virtual Environment"),(0,l.kt)("p",null,"Your installation goes inside a ",(0,l.kt)("a",{parentName:"p",href:"https://docs.python-guide.org/dev/virtualenvs/"},"virtual environment"),"."),(0,l.kt)("p",null,"There are lots of ways to create and manage a virtual environment. This is just one."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"python3.7 -m venv venv\nsource venv/bin/activate\npip install --upgrade pip\n")),(0,l.kt)("p",null,"Wheels can be in source or binary format. Binary wheels are specific to an operating system and python version number. Source wheels require development tools."),(0,l.kt)("p",null,"Chia hosts some binary wheels that are not available from ",(0,l.kt)("a",{parentName:"p",href:"https://pypi.org/"},"PyPI"),". This step is optional, but it may succeed where building from source can take a while or fail in hard-to-debug ways. If wheels are not available for your system, this step will fail. But you can try it anyway."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"pip install -i https://pypi.chia.net/simple/ miniupnpc==2.1 zstd\n")),(0,l.kt)("p",null,"Install chia-blockchain."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"pip install chia-blockchain==1.3.0\n")),(0,l.kt)("p",null,'Before you use chia-blockchain in future, you must "enter" your virtual environment.'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"source venv/bin/activate\nchia -h\n")),(0,l.kt)("h2",{id:"install-from-source"},"Install from Source"),(0,l.kt)("p",null,"*","This instruction is for MacOS, Ubuntu, CentOS, RedHat, WSL2, Amazon Linux 2 and possibly ","*","NIX like OSes."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Prerequisite: git\n\ngit clone https://github.com/Chia-Network/chia-blockchain.git -b latest --recurse-submodules\ncd chia-blockchain\n\n# This installs compatible Python modules\nsh install.sh\n. ./activate\n\n# If you want to debug/develop GUI app, try to install from source\n# This installs supported version NodeJS/npm and npm dependencies.\nsh install-gui.sh\n\n# To open GUI app, run the following command\nbash start-gui.sh\n")),(0,l.kt)("h2",{id:"update-from-source"},"Update from Source"),(0,l.kt)("p",null,"*","This instruction is for MacOS, Ubuntu, CentOS, RedHat, WSL2, Amazon Linux 2 and possibly ","*","NIX like OSes.",(0,l.kt)("br",{parentName:"p"}),"\n","To Update/Upgrade from the previous version"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'cd chia-blockchain\n. ./activate\nchia stop -d all\ndeactivate\ngit fetch\ngit checkout latest\ngit reset --hard FETCH_HEAD --recurse-submodules\n\n# If you get RELEASE.dev0 then delete the package-lock.json in chia-blockchain-gui and install.sh again\n\ngit status\n\n# git status should say "nothing to commit, working tree clean",\n# if you have uncommitted changes, RELEASE.dev0 will be reported.\n\nsh install.sh\n\n. ./activate\n\nchia init\n\n# The GUI requires you have windowing system installed.\n# You can not install and run the GUI as root\ncd chia-blockchain-gui\ngit fetch\ncd ..\nchmod +x ./install-gui.sh\n./install-gui.sh\n\n# Run the GUI app\nbash start-gui.sh\n')),(0,l.kt)("h3",{id:"a-note-on-virutal-environments"},"A Note on Virutal Environments"),(0,l.kt)("p",null,"Remember that once you complete your install you ",(0,l.kt)("strong",{parentName:"p"},"must be in the ",(0,l.kt)("a",{parentName:"strong",href:"https://docs.python-guide.org/dev/virtualenvs/"},"Python virtual environment"))," which you access from the ",(0,l.kt)("inlineCode",{parentName:"p"},"chia-blockchain")," directory, or the Windows ",(0,l.kt)("inlineCode",{parentName:"p"},"Chia Blockchain")," directory, or your home directory if you opted for a binary install. Enter the virtual environment with the command ",(0,l.kt)("inlineCode",{parentName:"p"},". ./activate"),". Both dots are critical and once executed correctly your cli prompt will look something like ",(0,l.kt)("inlineCode",{parentName:"p"},"(venv) username@machine:~$")," with ",(0,l.kt)("inlineCode",{parentName:"p"},"(venv)")," prepended."),(0,l.kt)("p",null,"Use ",(0,l.kt)("inlineCode",{parentName:"p"},"deactivate")," should you want to exit the venv. If you're not a fan of dots, an equivalent alternative on most platforms is ",(0,l.kt)("inlineCode",{parentName:"p"},"source venv/bin/activate")," and you'll see that method in places in this documentation."),(0,l.kt)("h3",{id:"troubleshooting"},"Troubleshooting"),(0,l.kt)("p",null,"Sometimes stray daemons left over from previously running processes will cause strange bugs/errors when upgrading to a new version. Make sure all daemons and Chia processes are killed before installing or upgrading."),(0,l.kt)("p",null,"This is normally done by executing ",(0,l.kt)("inlineCode",{parentName:"p"},"chia stop -d all")," from the upgrade example above.",(0,l.kt)("br",{parentName:"p"}),"\n","But it doesn't hurt to double check using ",(0,l.kt)("inlineCode",{parentName:"p"},"ps -Af | grep chia")," to make sure there are no Chia processes left running. You may have to manually kill the Chia daemon if an install and ",(0,l.kt)("inlineCode",{parentName:"p"},"chia start")," was performed without first running ",(0,l.kt)("inlineCode",{parentName:"p"},"chia stop -d all")),(0,l.kt)("p",null,"If all else fails, rebooting the machine and restarting the Chia daemon/processes usually does the trick."),(0,l.kt)("h2",{id:"testnets"},"Testnets"),(0,l.kt)("p",null,"To join a testnet, follow the instructions on the ",(0,l.kt)("a",{parentName:"p",href:"https://devs.chia.net/guides/chialisp-testnet-setup/"},"How to Connect to the Testnet")," article."),(0,l.kt)("p",null,"It is recommended that you keep a separate testnet environment by prepending ",(0,l.kt)("inlineCode",{parentName:"p"},'CHIA_ROOT="~/.chia/testnetx"')," to all of your cli commands. For example, ",(0,l.kt)("inlineCode",{parentName:"p"},'CHIA_ROOT="~/.chia/testnet10" chia init'),". An easier way to do this is to run ",(0,l.kt)("inlineCode",{parentName:"p"},'export CHIA_ROOT="~/.chia/testnet10"')," so that all commands will use testnet10 instead of mainnet. If you're using a version above 1.2.11 (currently in beta), you can update all config values to the testnet values by running ",(0,l.kt)("inlineCode",{parentName:"p"},"chia configure -t true"),"."))}c.isMDXComponent=!0}}]);